<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ‚ å“‰çš„åšå®¢</title>

<!-- SEO meta tags -->
  <meta name="description" content="æ‚ å“‰çš„åšå®¢ï¼Œåˆ†äº«ç”Ÿæ´»ã€æ—…è¡Œã€æŠ€æœ¯ä¸å…´è¶£çš„ä¸ªäººåšå®¢ã€‚">
  <meta name="keywords" content="åšå®¢, ç”Ÿæ´», æŠ€æœ¯, æ—…è¡Œ, æ‚ å“‰,youzai,fuchenyouzai,æ‹‚å°˜æ‚ å“‰">

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#4CAF50">

<!-- iOS å®‰è£…æ”¯æŒ -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="æ‚ å“‰çš„åšå®¢">
<link rel="apple-touch-icon" href="/icon-192.png">

<!-- è®¾ç½® iOS çŠ¶æ€æ æ ·å¼ -->
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
/* ===== é¢œè‰²å˜é‡ & ç™½å¤©/å¤œæ™šæ¨¡å¼ ===== */
:root {
  --bg-color: #f4f4f4;
  --text-color: #333;
  --header-bg: #4CAF50;
  --footer-bg: #333;
  --footer-text: #fff;
  --article-bg: #fff;
}
body.dark-mode {
  --bg-color: #1e1e1e;
  --text-color: #f4f4f4;
  --header-bg: #333;
  --footer-bg: #222;
  --footer-text: #f4f4f4;
  --article-bg: #2a2a2a;
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
  font-family: "Helvetica Neue", Arial, sans-serif;
  margin: 0;
  padding: 0;
}

header {
  background-color: var(--header-bg);
  color: white;
  padding: 20px 10px;
  text-align: center;
}

main {
  max-width: 800px;
  margin: 20px auto;
  padding: 0 10px;
}

article {
  background: var(--article-bg);
  color: var(--text-color);
  margin-bottom: 20px;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

h2 { color: #4CAF50; }
img { max-width: 100%; border-radius: 5px; cursor: pointer; transition: transform 0.3s; }
iframe { width: 100%; border: none; border-radius: 5px; }
audio { width: 100%; margin-top: 10px; }

footer {
  text-align: center;
  padding: 15px;
  background: var(--footer-bg);
  color: var(--footer-text);
  margin-top: 20px;
}

.gallery {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}
.gallery img {
  width: 48%; /* æ¨ªå‘å±•ç¤ºï¼Œä¸¤å¼ å›¾ç‰‡å¹¶æ’ */
  border-radius: 5px;
  cursor: pointer;
  transition: transform 0.3s;
}
.gallery img:hover {
  transform: scale(1.05);
}

a.telegram-btn, a.admin-btn {
  display: inline-block;
  padding: 10px 15px;
  color: white;
  border-radius: 5px;
  text-decoration: none;
  font-weight: bold;
}
a.telegram-btn { background-color: #0088cc; }
a.telegram-btn:hover { background-color: #006699; }
a.admin-btn { background-color: #e53935; }
a.admin-btn:hover { background-color: #b71c1c; }

.video-container, .article-video {
  position: relative;
  width: 100%;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
  border-radius: 5px;
  margin: 10px 0;
}
.video-container iframe, .article-video iframe, .video-container #live-player {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

/* ===== å³ä¸Šè§’å®‰è£…æŒ‰é’®ï¼ˆåœ†å½¢ï¼‰ ===== */
#install-btn {
  position: fixed;
  top: 160px;
  right: 20px;
  z-index: 999;
  width: 80px;
  height: 80px;
  background-color: #4CAF50;
  color: white;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: background-color 0.3s, transform 0.2s;
}
#install-btn:hover {
  background-color: #388E3C;
  transform: scale(1.05);
}
@media screen and (max-width: 768px) {
  #install-btn {
    top: 100px;
    width: 70px;
    height: 70px;
    font-size: 13px;
  }
}

/* ===== å³ä¸‹è§’æ‚¬æµ®æŒ‰é’®ï¼ˆå£°éŸ³ & æ¨¡å¼ï¼‰ ===== */
#sound-toggle-btn, #mode-toggle-btn {
  position: fixed;
  bottom: 20px;
  z-index: 1000;
  padding: 12px 18px;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: background-color 0.3s, transform 0.2s;
}
#sound-toggle-btn {
  right: 20px;
  background-color: #e53935;
  color: white;
}
#sound-toggle-btn:hover { background-color: #b71c1c; transform: scale(1.05); }

#mode-toggle-btn {
  right: 140px;
  background-color: #555;
  color: white;
  font-size: 14px;
}
#mode-toggle-btn:hover { background-color: #333; transform: scale(1.05); }
</style>
</head>
<body>
<header>
<h1>æ‚ å“‰çš„åšå®¢</h1>
<p>åˆ†äº«æˆ‘çš„ç”Ÿæ´»ä¸å…´è¶£</p>
</header>

<main>
<article>
<h2>æ‚ å“‰çš„Telegram</h2>
<a href="https://t.me/fuchenyouzaibot" target="_blank" class="telegram-btn">è”ç³» Telegram</a>
</article>	

<!-- å…¨çƒæ—¶é—´æ¨¡å—ï¼ˆæ¯«ç§’çº§åŒæ­¥+è‡ªåŠ¨é€‚é…æ—¶åŒºï¼‰ -->
<article>
<h2>å…¨çƒæ—¶é—´ï¼ˆæ¯«ç§’çº§åŒæ­¥ï¼‰</h2>
<div class="horizontal-module">
  <div class="module-item">
    <p style="font-weight: 600;">UTC ä¸–ç•Œæ—¶</p>
    <p id="utc-time">00:00:00.000</p>
  </div>
  <div class="module-item">
    <p style="font-weight: 600;">åŒ—äº¬ï¼ˆUTC+8ï¼‰</p>
    <p id="beijing-time">00:00:00.000</p>
  </div>
  <div class="module-item">
    <p style="font-weight: 600;">ä¼¦æ•¦ï¼ˆè‡ªåŠ¨å¤ä»¤æ—¶ï¼‰</p>
    <p id="london-time">00:00:00.000</p>
  </div>
  <div class="module-item">
    <p style="font-weight: 600;">çº½çº¦ï¼ˆè‡ªåŠ¨å¤ä»¤æ—¶ï¼‰</p>
    <p id="newyork-time">00:00:00.000</p>
  </div>
</div>
<p style="font-size: 12px; color: #666; margin-top: 8px; text-align: center;">
  æ—¶é—´æ›´æ–°é¢‘ç‡ï¼š1æ¯«ç§’/æ¬¡ | æ—¶åŒºè‡ªåŠ¨é€‚é…ï¼ˆå«å¤ä»¤æ—¶ï¼‰
</p>
</article>

<!-- æ—¶é—´æ¨¡å—CSSï¼ˆæ— éœ€é¢å¤–ä¾èµ–ï¼Œç‹¬ç«‹å®Œæ•´ï¼‰ -->
<style>
.horizontal-module {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  align-items: center;
  margin-top: 15px;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  width: 100%;
  box-sizing: border-box;
}
.horizontal-module .module-item {
  flex: 1;
  min-width: 120px;
  text-align: center;
}
#utc-time, #beijing-time, #london-time, #newyork-time {
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: #2c3e50;
}
article {
  background: #fff;
  margin: 0 auto 20px;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  max-width: 1200px;
  width: 100%;
  box-sizing: border-box;
}
h2 { 
  color: #4CAF50; 
  margin-top: 0; 
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
}
</style>

<!-- æ—¶é—´æ¨¡å—JSï¼ˆè‡ªåŠ¨é€‚é…å¤ä»¤æ—¶ï¼Œæ— éœ€æ‰‹åŠ¨ç»´æŠ¤æ—¶åŒºï¼‰ -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  // æ ¼å¼åŒ–æ—¶é—´ï¼ˆå¸¦æ¯«ç§’+è‡ªåŠ¨æ—¶åŒºï¼‰
  const formatTimeWithMs = (date, timezone) => {
    const timeStr = date.toLocaleTimeString('zh-CN', {
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
      fractionalSecondDigits: 3,
      hour12: false,
      timeZone: timezone
    });
    // æ›¿æ¢é€—å·ä¸ºå°æ•°ç‚¹ï¼ˆç»Ÿä¸€æ¯«ç§’æ ¼å¼ï¼‰
    return timeStr.replace(',', '.');
  };

  // å®æ—¶æ›´æ–°æ—¶é—´
  const updateGlobalTime = () => {
    const now = new Date();
    // å„æ—¶åŒºæ—¶é—´åŒæ­¥ï¼ˆè‡ªåŠ¨é€‚é…å¤ä»¤æ—¶ï¼‰
    document.getElementById('utc-time').textContent = formatTimeWithMs(now, 'UTC');
    document.getElementById('beijing-time').textContent = formatTimeWithMs(now, 'Asia/Shanghai');
    document.getElementById('london-time').textContent = formatTimeWithMs(now, 'Europe/London');
    document.getElementById('newyork-time').textContent = formatTimeWithMs(now, 'America/New_York');
  };

  // åˆå§‹åŒ–+æ¯«ç§’çº§æ›´æ–°
  updateGlobalTime();
  setInterval(updateGlobalTime, 1);
});
</script>





<article>
<h2>æœ¬åœ°å¤©æ°” & æ™ºèƒ½æ—¥å†</h2>
<div class="horizontal-module">
  <!-- å¤©æ°”æ¨¡å—ï¼šé»˜è®¤å¤§è¿+å®Œæ•´ä¿¡æ¯ -->
  <div class="module-item" style="min-width: 260px;">
    <p style="font-weight: 600;">æœ¬åœ°å¤©æ°”</p>
    <p id="weather-city" style="font-size: 14px; color: #666; margin: 4px 0;">åŠ è½½ä¸­...</p>
    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin: 8px 0;">
      <span id="weather-icon" style="font-size: 24px;">ğŸŒ¤ï¸</span>
      <p id="local-weather" style="font-size: 16px; margin: 0; font-weight: 600; color: #2c3e50;">åŠ è½½ä¸­...</p>
    </div>
    <p id="weather-extra" style="font-size: 13px; color: #444; margin: 5px 0;">
      ä½“æ„Ÿ: åŠ è½½ä¸­ | æ°”å‹: åŠ è½½ä¸­
    </p>
    <p id="weather-details" style="font-size: 12px; color: #666; line-height: 1.4;">
      æ—¥ç…§: åŠ è½½ä¸­<br>æ¹¿åº¦: åŠ è½½ä¸­ | é£åŠ›: åŠ è½½ä¸­<br>ç´«å¤–çº¿: åŠ è½½ä¸­
    </p>
  </div>
  <!-- æ—¥å†æ¨¡å— -->
  <div class="module-item">
    <p style="font-weight: 600;">å…¬å†</p>
    <p id="solar-date" style="font-size: 15px; margin: 8px 0;">2025å¹´09æœˆ23æ—¥</p>
    <p id="current-weekday" style="font-size: 13px; color: #666;">æ˜ŸæœŸäºŒ</p>
  </div>
  <div class="module-item">
    <p style="font-weight: 600;">å†œå†</p>
    <p id="lunar-date" style="font-size: 15px; margin: 8px 0;">ä¹™å·³å¹´å…«æœˆåˆäºŒ</p>
    <p id="lunar-term" style="font-size: 13px; color: #e74c3c;">ç§‹åˆ†ï¼ˆ9æœˆ22æ—¥ï¼‰</p>
  </div>
  <div class="module-item">
    <p style="font-weight: 600;">å½“å‰ç”Ÿè‚–</p>
    <p id="current-zodiac" style="font-size: 18px; margin: 8px 0;">è›‡</p>
    <p style="font-weight: 600; margin-top: 15px;">è·ç¦»ä¸‹æ¬¡èŠ‚æ°”</p>
    <p id="term-countdown" style="font-size: 13px; color: #666;">å¯’éœ²ï¼ˆçº¦29å¤©åï¼‰</p>
  </div>
</div>
</article>

<style>
.horizontal-module {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  align-items: flex-start;
  margin-top: 15px;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  width: 100%;
  box-sizing: border-box;
}
.horizontal-module .module-item {
  flex: 1;
  min-width: 150px;
  text-align: center;
  padding: 5px 0;
}
article {
  background: #fff;
  margin: 0 auto 20px;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  max-width: 1200px;
  width: 100%;
  box-sizing: border-box;
}
h2 { 
  color: #4CAF50; 
  margin-top: 0; 
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
}
#weather-icon {
  vertical-align: middle;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // å¤©æ°”æ¨¡å—ï¼šé»˜è®¤åœ°åŒºä¸ºå¤§è¿å¸‚
  const loadWeather = () => {
    // å¤§è¿ä¸“å±å¤‡ç”¨å¤©æ°”æ•°æ®ï¼ˆè´´åˆæµ·æ»¨åŸå¸‚ç‰¹ç‚¹ï¼‰
    const fallbackWeather = {
      city: "å¤§è¿å¸‚",
      temp: 21,
      desc: "å¤šäº‘",
      icon: "ğŸŒ¤ï¸",
      feelsLike: 20,
      pressure: 1015,
      humidity: 65,
      wind: "3m/s è¥¿åŒ—é£",
      sunrise: "05:58",
      sunset: "18:22",
      uv: "ä¸­"
    };

    // ä¼˜å…ˆIPå®šä½ï¼Œå¤±è´¥åˆ™å¼ºåˆ¶æ˜¾ç¤ºå¤§è¿å¤©æ°”
    fetch('https://restapi.amap.com/v3/ip?key=45f290423292a084c04a0a3622e5a74e')
      .then(res => res.json())
      .then(ipData => {
        const city = ipData.city || fallbackWeather.city; // å®šä½å¤±æ•ˆæ—¶é”å®šå¤§è¿
        document.getElementById('weather-city').textContent = `å½“å‰åœ°åŒºï¼š${city}`;
        
        // è·å–å¯¹åº”åŸå¸‚å¤©æ°”æ•°æ®
        fetch(`https://restapi.amap.com/v3/weather/weatherInfo?key=45f290423292a084c04a0a3622e5a74e&city=${encodeURIComponent(city)}&extensions=all`)
          .then(weatherRes => weatherRes.json())
          .then(weatherData => {
            if (weatherData.status === "1" && weatherData.lives.length > 0) {
              const live = weatherData.lives[0];
              // å¤©æ°”å›¾æ ‡æ˜ å°„ï¼ˆè¦†ç›–å¸¸è§å¤©æ°”ç±»å‹ï¼‰
              const weatherIconMap = {
                "æ™´": "â˜€ï¸", "å¤šäº‘": "ğŸŒ¤ï¸", "é˜´": "â˜ï¸", "é˜µé›¨": "ğŸŒ¦ï¸", "é›·é˜µé›¨": "â›ˆï¸",
                "å°é›¨": "ğŸŒ§ï¸", "ä¸­é›¨": "ğŸŒ§ï¸", "å¤§é›¨": "ğŸŒ§ï¸", "æš´é›¨": "â›ˆï¸", "é›ª": "â„ï¸",
                "é›¾": "ğŸŒ«ï¸", "éœ¾": "ğŸ˜·", "å¤§é£": "ğŸ’¨"
              };
              const icon = weatherIconMap[live.weather] || "ğŸŒ¤ï¸";

              // å¡«å……å®æ—¶å¤©æ°”ä¿¡æ¯
              document.getElementById('weather-icon').textContent = icon;
              document.getElementById('local-weather').textContent = `${live.temperature}Â°C | ${live.weather}`;
              document.getElementById('weather-extra').textContent = `ä½“æ„Ÿ: ${live.feels_like}Â°C | æ°”å‹: ${live.pressure}hPa`;
              document.getElementById('weather-details').innerHTML = 
                `æ—¥ç…§: ${live.sunrise} - ${live.sunset}<br>
                 æ¹¿åº¦: ${live.humidity}% | é£åŠ›: ${live.windpower}çº§ ${live.winddirection}<br>
                 ç´«å¤–çº¿: ${live.uvindex || "ä¸­"}`;
            } else {
              // æ¥å£è¿”å›å¼‚å¸¸ï¼Œå¯ç”¨å¤§è¿å¤‡ç”¨æ•°æ®
              fillFallbackWeather();
            }
          })
          .catch(() => fillFallbackWeather()); // è¯·æ±‚å¤±è´¥æ—¶åŠ è½½å¤‡ç”¨æ•°æ®
      })
      .catch(() => fillFallbackWeather()); // å®šä½å¤±è´¥æ—¶å¼ºåˆ¶æ˜¾ç¤ºå¤§è¿å¤©æ°”

    // å¡«å……å¤§è¿å¤‡ç”¨å¤©æ°”æ•°æ®çš„å‡½æ•°
    function fillFallbackWeather() {
      document.getElementById('weather-city').textContent = `å½“å‰åœ°åŒºï¼š${fallbackWeather.city}`;
      document.getElementById('weather-icon').textContent = fallbackWeather.icon;
      document.getElementById('local-weather').textContent = `${fallbackWeather.temp}Â°C | ${fallbackWeather.desc}`;
      document.getElementById('weather-extra').textContent = `ä½“æ„Ÿ: ${fallbackWeather.feelsLike}Â°C | æ°”å‹: ${fallbackWeather.pressure}hPa`;
      document.getElementById('weather-details').innerHTML = 
        `æ—¥ç…§: ${fallbackWeather.sunrise} - ${fallbackWeather.sunset}<br>
         æ¹¿åº¦: ${fallbackWeather.humidity}% | é£åŠ›: ${fallbackWeather.wind}<br>
         ç´«å¤–çº¿: ${fallbackWeather.uv}`;
    }
  };

  // æ—¥å†æ¨¡å—ï¼šä¿æŒæ•°æ®å‡†ç¡®
  const initCalendar = () => {
    const today = new Date();
    const year = today.getFullYear();
    const month = today.getMonth() + 1;
    const day = today.getDate();
    // å…¬å†æ—¥æœŸ
    document.getElementById('solar-date').textContent = `${year}å¹´${String(month).padStart(2, '0')}æœˆ${String(day).padStart(2, '0')}æ—¥`;
    // æ˜ŸæœŸ
    const weekdays = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
    document.getElementById('current-weekday').textContent = weekdays[today.getDay()];
    // å†œå†ï¼ˆ2025å¹´å›ºå®šæ•°æ®ï¼‰
    document.getElementById('lunar-date').textContent = "ä¹™å·³å¹´å…«æœˆåˆäºŒ";
    // èŠ‚æ°”
    document.getElementById('lunar-term').textContent = "ç§‹åˆ†ï¼ˆ9æœˆ22æ—¥ï¼‰";
    // ç”Ÿè‚–
    document.getElementById('current-zodiac').textContent = "è›‡";
    // ä¸‹æ¬¡èŠ‚æ°”å€’è®¡æ—¶ï¼ˆå¯’éœ²ï¼š2025å¹´10æœˆ8æ—¥ï¼‰
    const nextTermDate = new Date(2025, 9, 8);
    const diffDays = Math.ceil((nextTermDate - today) / (1000 * 60 * 60 * 24));
    document.getElementById('term-countdown').textContent = `å¯’éœ²ï¼ˆçº¦${diffDays}å¤©åï¼‰`;
  };

  // åˆå§‹åŒ–åŠ è½½+å®šæ—¶æ›´æ–°
  loadWeather();
  initCalendar();
  setInterval(loadWeather, 3600000); // æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡å¤©æ°”
  setInterval(initCalendar, 86400000); // æ¯å¤©æ›´æ–°ä¸€æ¬¡æ—¥å†
});
</script>

<div style="width: 100%; max-width: 800px; margin: 20px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <div style="padding: 15px; background: #f5f5f5;">
    <label style="display: block; margin-bottom: 8px; font-weight: bold;">ç²˜è´´æŠ–éŸ³ç›´æ’­é—´é“¾æ¥ï¼š</label>
    <input type="text" id="douyinLiveInput" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;" placeholder="ä¾‹å¦‚ï¼šhttps://v.douyin.com/xxxx/">
    <button onclick="loadLive()" style="margin-top: 10px; padding: 8px 15px; background: #007bff; color: #fff; border: none; border-radius: 4px; cursor: pointer;">åŠ è½½ç›´æ’­</button>
  </div>
  <div id="liveLoading" style="text-align: center; padding: 30px; background: #f8f9fa; display: none;">æ­£åœ¨åŠ è½½ç›´æ’­...</div>
  <iframe id="douyinLiveIframe" style="width: 100%; height: 500px; border: none; display: none;" allowfullscreen></iframe>
</div>

<script>
  function loadLive() {
    const input = document.getElementById("douyinLiveInput");
    const iframe = document.getElementById("douyinLiveIframe");
    const loading = document.getElementById("liveLoading");
    
    if (!input.value) {
      alert("è¯·å…ˆç²˜è´´æŠ–éŸ³ç›´æ’­é—´é“¾æ¥");
      return;
    }
    
    loading.style.display = "block";
    iframe.style.display = "none";
    
    // ç›´æ¥å°†è¾“å…¥çš„é“¾æ¥è®¾ç½®ä¸ºiframeçš„src
    iframe.src = input.value;
    // å»¶è¿Ÿæ˜¾ç¤ºï¼Œç¡®ä¿åŠ è½½
    setTimeout(() => {
      loading.style.display = "none";
      iframe.style.display = "block";
    }, 1000);
  }
</script>

<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨äººæ°‘å¸å®æ—¶æ±‡ç‡æŸ¥è¯¢ä¸è½¬æ¢å·¥å…· -->
<div style="width: 100%; max-width: 800px; margin: 25px auto; padding: 20px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- æ ‡é¢˜åŒºåŸŸ -->
  <h3 style="margin: 0 0 20px; font-size: 18px; color: #333; border-bottom: 1px solid #f5f5f5; padding-bottom: 10px;">
    äººæ°‘å¸å®æ—¶æ±‡ç‡æŸ¥è¯¢ä¸è½¬æ¢
  </h3>

  <!-- æ±‡ç‡æ˜¾ç¤ºåŒºåŸŸ -->
  <div style="margin-bottom: 25px;">
    <h4 style="margin: 0 0 12px; font-size: 14px; color: #666;">å½“å‰æ±‡ç‡ï¼ˆ1äººæ°‘å¸å¯å…‘æ¢ï¼‰</h4>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
      <!-- ç¾å…ƒæ±‡ç‡å¡ç‰‡ -->
      <div style="padding: 15px; border-radius: 8px; background: #f8f9fa; text-align: center;">
        <div style="font-size: 12px; color: #999; margin-bottom: 5px;">ç¾å…ƒ (USD)</div>
        <div id="cny-to-usd" style="font-size: 20px; font-weight: 500; color: #333;">--</div>
        <div id="usd-to-cny" style="font-size: 12px; color: #666; margin-top: 3px;">1 USD â‰ˆ -- CNY</div>
      </div>
      <!-- æ—¥å…ƒæ±‡ç‡å¡ç‰‡ -->
      <div style="padding: 15px; border-radius: 8px; background: #f8f9fa; text-align: center;">
        <div style="font-size: 12px; color: #999; margin-bottom: 5px;">æ—¥å…ƒ (JPY)</div>
        <div id="cny-to-jpy" style="font-size: 20px; font-weight: 500; color: #333;">--</div>
        <div id="jpy-to-cny" style="font-size: 12px; color: #666; margin-top: 3px;">100 JPY â‰ˆ -- CNY</div>
      </div>
      <!-- æ¸¯å…ƒæ±‡ç‡å¡ç‰‡ -->
      <div style="padding: 15px; border-radius: 8px; background: #f8f9fa; text-align: center;">
        <div style="font-size: 12px; color: #999; margin-bottom: 5px;">æ¸¯å…ƒ (HKD)</div>
        <div id="cny-to-hkd" style="font-size: 20px; font-weight: 500; color: #333;">--</div>
        <div id="hkd-to-cny" style="font-size: 12px; color: #666; margin-top: 3px;">1 HKD â‰ˆ -- CNY</div>
      </div>
    </div>
    <div id="rate-update-time" style="margin-top: 10px; font-size: 12px; color: #999; text-align: right;">
      æ±‡ç‡æ›´æ–°æ—¶é—´ï¼š--
    </div>
  </div>

  <!-- æ±‡ç‡è½¬æ¢åŒºåŸŸ -->
  <div>
    <h4 style="margin: 0 0 12px; font-size: 14px; color: #666;">è´§å¸è½¬æ¢</h4>
    <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
      <!-- è¾“å…¥é‡‘é¢ -->
      <div style="flex: 1; min-width: 150px;">
        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">è¾“å…¥é‡‘é¢</label>
        <input 
          id="convert-amount" 
          type="number" 
          min="0" 
          step="0.01" 
          value="1" 
          style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;"
        >
      </div>
      <!-- æºè´§å¸é€‰æ‹© -->
      <div style="min-width: 120px;">
        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">æºè´§å¸</label>
        <select id="source-currency" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; background: #fff;">
          <option value="CNY">äººæ°‘å¸ (CNY)</option>
          <option value="USD">ç¾å…ƒ (USD)</option>
          <option value="JPY">æ—¥å…ƒ (JPY)</option>
          <option value="HKD">æ¸¯å…ƒ (HKD)</option>
        </select>
      </div>
      <!-- ç›®æ ‡è´§å¸é€‰æ‹© -->
      <div style="min-width: 120px;">
        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">ç›®æ ‡è´§å¸</label>
        <select id="target-currency" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; background: #fff;">
          <option value="USD">ç¾å…ƒ (USD)</option>
          <option value="JPY">æ—¥å…ƒ (JPY)</option>
          <option value="HKD">æ¸¯å…ƒ (HKD)</option>
          <option value="CNY">äººæ°‘å¸ (CNY)</option>
        </select>
      </div>
      <!-- è½¬æ¢æŒ‰é’® -->
      <div style="min-width: 100px; align-self: flex-end; margin-bottom: 24px;">
        <button id="convert-btn" style="width: 100%; padding: 10px; background: #2c3e50; color: #fff; border: none; border-radius: 4px; cursor: pointer; transition: background 0.3s;">
          ç«‹å³è½¬æ¢
        </button>
      </div>
    </div>
    <!-- è½¬æ¢ç»“æœ -->
    <div id="convert-result" style="margin-top: 15px; padding: 15px; border-radius: 8px; background: #f8f9fa; text-align: center; font-size: 16px; color: #333; display: none;">
      <span id="result-content">1 CNY â‰ˆ 0.14 USD</span>
    </div>
  </div>
</div>

<script>
  // å­˜å‚¨æ±‡ç‡æ•°æ®ï¼ˆCNYä¸ºåŸºç¡€ï¼Œ1 CNY = ? å…¶ä»–è´§å¸ï¼‰
  let exchangeRates = {};
  // å…¬å¼€æ±‡ç‡APIï¼ˆæ— éœ€å¯†é’¥ï¼Œé€‚åˆå‰ç«¯è°ƒç”¨ï¼‰
  const RATE_API_URL = "https://open.er-api.com/v6/latest/CNY";

  // 1. è·å–å¹¶æ›´æ–°å®æ—¶æ±‡ç‡
  async function fetchAndUpdateRates() {
    const usdDom = document.getElementById("cny-to-usd");
    const jpyDom = document.getElementById("cny-to-jpy");
    const hkdDom = document.getElementById("cny-to-hkd");
    const usdReverseDom = document.getElementById("usd-to-cny");
    const jpyReverseDom = document.getElementById("jpy-to-cny");
    const hkdReverseDom = document.getElementById("hkd-to-cny");
    const timeDom = document.getElementById("rate-update-time");

    try {
      const response = await fetch(RATE_API_URL);
      const data = await response.json();
      
      if (data.result === "success") {
        // å­˜å‚¨æ±‡ç‡ï¼ˆä¿ç•™4ä½å°æ•°ï¼‰
        exchangeRates = {
          USD: parseFloat(data.rates.USD.toFixed(4)),
          JPY: parseFloat(data.rates.JPY.toFixed(4)),
          HKD: parseFloat(data.rates.HKD.toFixed(4)),
          CNY: 1 // 1 CNY = 1 CNY
        };

        // æ›´æ–°æ±‡ç‡æ˜¾ç¤ºï¼ˆ1 CNY å¯å…‘æ¢çš„å…¶ä»–è´§å¸ï¼‰
        usdDom.textContent = exchangeRates.USD;
        jpyDom.textContent = exchangeRates.JPY;
        hkdDom.textContent = exchangeRates.HKD;

        // æ›´æ–°åå‘æ±‡ç‡ï¼ˆ1å…¶ä»–è´§å¸ å¯å…‘æ¢çš„CNYï¼Œä¿ç•™4ä½å°æ•°ï¼‰
        usdReverseDom.textContent = `1 USD â‰ˆ ${(1 / exchangeRates.USD).toFixed(4)} CNY`;
        jpyReverseDom.textContent = `100 JPY â‰ˆ ${(100 / exchangeRates.JPY).toFixed(4)} CNY`;
        hkdReverseDom.textContent = `1 HKD â‰ˆ ${(1 / exchangeRates.HKD).toFixed(4)} CNY`;

        // æ›´æ–°æ—¶é—´ï¼ˆæ ¼å¼ï¼šYYYY-MM-DD HH:MMï¼‰
        const updateTime = new Date(data.time_last_update_unix * 1000);
        const formattedTime = `${updateTime.getFullYear()}-${(updateTime.getMonth() + 1).toString().padStart(2, "0")}-${updateTime.getDate().toString().padStart(2, "0")} ${updateTime.getHours().toString().padStart(2, "0")}:${updateTime.getMinutes().toString().padStart(2, "0")}`;
        timeDom.textContent = `æ±‡ç‡æ›´æ–°æ—¶é—´ï¼š${formattedTime}`;
      } else {
        throw new Error("è·å–æ±‡ç‡å¤±è´¥ï¼ŒAPIè¿”å›é”™è¯¯");
      }
    } catch (err) {
      console.error("æ±‡ç‡è·å–é”™è¯¯ï¼š", err);
      usdDom.textContent = "è·å–å¤±è´¥";
      jpyDom.textContent = "è·å–å¤±è´¥";
      hkdDom.textContent = "è·å–å¤±è´¥";
      timeDom.textContent = "æ±‡ç‡æ›´æ–°æ—¶é—´ï¼šè·å–å¤±è´¥";
    }
  }

  // 2. æ‰§è¡Œè´§å¸è½¬æ¢
  function handleCurrencyConvert() {
    const amountInput = document.getElementById("convert-amount");
    const sourceCurrency = document.getElementById("source-currency").value;
    const targetCurrency = document.getElementById("target-currency").value;
    const resultDom = document.getElementById("convert-result");
    const resultContentDom = document.getElementById("result-content");

    // è¾“å…¥æ ¡éªŒ
    const amount = parseFloat(amountInput.value);
    if (isNaN(amount) || amount < 0) {
      alert("è¯·è¾“å…¥æœ‰æ•ˆçš„éè´Ÿé‡‘é¢");
      return;
    }
    if (!exchangeRates[sourceCurrency] || !exchangeRates[targetCurrency]) {
      alert("æ±‡ç‡æ•°æ®æœªåŠ è½½å®Œæˆï¼Œè¯·ç¨åå†è¯•");
      return;
    }

    // è®¡ç®—è½¬æ¢ç»“æœï¼ˆä¿ç•™4ä½å°æ•°ï¼‰
    // é€»è¾‘ï¼šé‡‘é¢ * (1 CNYå…‘ç›®æ ‡è´§å¸æ±‡ç‡) / (1 CNYå…‘æºè´§å¸æ±‡ç‡)
    const convertedAmount = (amount * exchangeRates[targetCurrency] / exchangeRates[sourceCurrency]).toFixed(4);
    // æ˜¾ç¤ºç»“æœ
    resultContentDom.textContent = `${amount} ${sourceCurrency} â‰ˆ ${convertedAmount} ${targetCurrency}`;
    resultDom.style.display = "block";
  }

  // 3. åˆå§‹åŒ–ä¸äº‹ä»¶ç»‘å®š
  window.addEventListener("DOMContentLoaded", () => {
    // åˆå§‹åŠ è½½æ±‡ç‡
    fetchAndUpdateRates();
    // æ¯30åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡æ±‡ç‡ï¼ˆé¿å…é¢‘ç¹è¯·æ±‚APIï¼‰
    setInterval(fetchAndUpdateRates, 30 * 60 * 1000);

    // ç»‘å®šè½¬æ¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    document.getElementById("convert-btn").addEventListener("click", handleCurrencyConvert);
    // ç»‘å®šå›è½¦é”®è§¦å‘è½¬æ¢
    document.getElementById("convert-amount").addEventListener("keydown", (e) => {
      if (e.key === "Enter") handleCurrencyConvert();
    });
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨äººæ°‘å¸å®æ—¶æ±‡ç‡æŸ¥è¯¢ä¸è½¬æ¢å·¥å…· -->






<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨æŠ–éŸ³ç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 900px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- æŠ–éŸ³ç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹ID/é“¾æ¥å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™æŠ–éŸ³ç›´æ’­é—´IDæˆ–å®Œæ•´é“¾æ¥ï¼ˆäºŒé€‰ä¸€ï¼Œé“¾æ¥ä¼˜å…ˆï¼‰
    const douyinLiveConfig = {
      liveRoomId: "cctv6media", // æŠ–éŸ³è´¦å·IDï¼ˆç¤ºä¾‹ï¼šcctv6mediaï¼Œéœ€ç¡®ä¿è´¦å·æ­£åœ¨ç›´æ’­ï¼‰
      liveRoomUrl: "" // æŠ–éŸ³ç›´æ’­é—´å®Œæ•´é“¾æ¥ï¼ˆç¤ºä¾‹ï¼šhttps://v.douyin.com/xxxx/ï¼Œè‹¥å¡«äº†é“¾æ¥åˆ™æ­¤å‚æ•°æ— æ•ˆï¼‰
    };

    // è‡ªåŠ¨ç”Ÿæˆæœ‰æ•ˆç›´æ’­é“¾æ¥
    function getValidDouyinUrl() {
      if (douyinLiveConfig.liveRoomUrl) {
        return douyinLiveConfig.liveRoomUrl;
      }
      // æŠ–éŸ³è´¦å·IDéœ€æ‹¼æ¥ç”¨æˆ·ä¸»é¡µé“¾æ¥ï¼Œå¼€æ’­åä¸»é¡µä¼šæ˜¾ç¤ºç›´æ’­å…¥å£
      return `https://www.douyin.com/user/${douyinLiveConfig.liveRoomId}`;
    }
  </script>

  <!-- åŠ è½½çŠ¶æ€æç¤º -->
  <div id="douyinLoading" style="text-align: center; padding: 30px; background: #fafafa; color: #666; font-size: 15px;">
    æ­£åœ¨åŠ è½½æŠ–éŸ³ç›´æ’­...
  </div>

  <!-- ç›´æ’­æ’­æ”¾å™¨ä¸»ä½“ï¼ˆæŠ–éŸ³å…¼å®¹iframeåµŒå…¥ï¼‰ -->
  <iframe
    id="douyinLivePlayer"
    src=""
    width="100%"
    height="550"
    frameborder="0"
    scrolling="no"
    allowfullscreen="true"
    style="display: none; border: none;"
    title="æŠ–éŸ³ç›´æ’­é—´æ’­æ”¾"
  ></iframe>
</div>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ’­æ”¾å™¨
  document.addEventListener("DOMContentLoaded", function() {
    const liveUrl = getValidDouyinUrl();
    const player = document.getElementById("douyinLivePlayer");
    const loadingTip = document.getElementById("douyinLoading");

    // æ ¡éªŒé…ç½®æœ‰æ•ˆæ€§
    if (!liveUrl.includes("douyin.com")) {
      loadingTip.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„æŠ–éŸ³ç›´æ’­é—´IDæˆ–é“¾æ¥ï¼";
      loadingTip.style.color = "#ff4d4f";
      return;
    }

    // åŠ è½½ç›´æ’­ç”»é¢ï¼ˆæŠ–éŸ³iframeéœ€å»¶è¿ŸåŠ è½½ä»¥ç¡®ä¿å…¼å®¹æ€§ï¼‰
    setTimeout(() => {
      player.src = liveUrl;
    }, 500);

    // ç›‘å¬æ’­æ”¾å™¨åŠ è½½çŠ¶æ€
    player.onload = function() {
      player.style.display = "block";
      loadingTip.style.display = "none";
    };

    // åŠ è½½è¶…æ—¶å¤„ç†
    setTimeout(() => {
      if (player.style.display === "none") {
        loadingTip.textContent = "ç›´æ’­åŠ è½½è¶…æ—¶ï¼Œå¯èƒ½æ˜¯ç›´æ’­é—´æœªå¼€æ’­æˆ–ç½‘ç»œé—®é¢˜";
        loadingTip.style.color = "#ff7a45";
      }
    }, 10000);
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨æŠ–éŸ³ç›´æ’­æ’­æ”¾å™¨ -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨å¿«æ‰‹ç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 900px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- å¿«æ‰‹ç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹å‚æ•°å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™å¿«æ‰‹ç›´æ’­é—´IDæˆ–å®Œæ•´é“¾æ¥ï¼ˆäºŒé€‰ä¸€ï¼Œé“¾æ¥ä¼˜å…ˆï¼‰
    const kuaishouLiveConfig = {
      liveRoomId: "3x8k5q7m9n2p4", // å¿«æ‰‹è´¦å·ID/ç›´æ’­é—´IDï¼ˆç¤ºä¾‹ï¼šä»è´¦å·ä¸»é¡µURLæˆ–ç›´æ’­åˆ†äº«é¡µè·å–ï¼‰
      liveRoomUrl: "" // å¿«æ‰‹ç›´æ’­é—´å®Œæ•´é“¾æ¥ï¼ˆç¤ºä¾‹ï¼šhttps://v.kuaishou.com/xxxx/ï¼Œå¡«é“¾æ¥åˆ™IDæ— æ•ˆï¼‰
    };

    // è‡ªåŠ¨ç”Ÿæˆæœ‰æ•ˆç›´æ’­é“¾æ¥
    function getValidKuaishouUrl() {
      if (kuaishouLiveConfig.liveRoomUrl) {
        return kuaishouLiveConfig.liveRoomUrl;
      }
      // å¿«æ‰‹è´¦å·IDæ‹¼æ¥ç”¨æˆ·ä¸»é¡µé“¾æ¥ï¼Œå¼€æ’­åä¸»é¡µä¼šæ˜¾ç¤ºâ€œç›´æ’­ä¸­â€å…¥å£
      return `https://www.kuaishou.com/profile/${kuaishouLiveConfig.liveRoomId}`;
    }
  </script>

  <!-- åŠ è½½çŠ¶æ€ä¸æç¤º -->
  <div id="kuaishouLoading" style="text-align: center; padding: 30px; background: #fafafa; color: #666; font-size: 15px;">
    æ­£åœ¨åŠ è½½å¿«æ‰‹ç›´æ’­...
  </div>

  <!-- ç›´æ’­æ’­æ”¾å™¨ä¸»ä½“ï¼ˆé€‚é…å¿«æ‰‹iframeåµŒå…¥è§„åˆ™ï¼‰ -->
  <iframe
    id="kuaishouLivePlayer"
    src=""
    width="100%"
    height="550"
    frameborder="0"
    scrolling="no"
    allowfullscreen="true"
    style="display: none; border: none;"
    title="å¿«æ‰‹ç›´æ’­é—´æ’­æ”¾"
  ></iframe>
</div>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ’­æ”¾å™¨
  document.addEventListener("DOMContentLoaded", function() {
    const liveUrl = getValidKuaishouUrl();
    const player = document.getElementById("kuaishouLivePlayer");
    const loadingTip = document.getElementById("kuaishouLoading");

    // æ ¡éªŒé…ç½®æœ‰æ•ˆæ€§
    if (!liveUrl.includes("kuaishou.com")) {
      loadingTip.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„å¿«æ‰‹ç›´æ’­é—´IDæˆ–é“¾æ¥ï¼";
      loadingTip.style.color = "#ff4d4f";
      return;
    }

    // å»¶è¿ŸåŠ è½½å¿«æ‰‹ç›´æ’­ï¼ˆé€‚é…å¹³å°åµŒå…¥å…¼å®¹æ€§ï¼‰
    setTimeout(() => {
      player.src = liveUrl;
    }, 600);

    // ç›‘å¬æ’­æ”¾å™¨åŠ è½½çŠ¶æ€
    player.onload = function() {
      player.style.display = "block";
      loadingTip.style.display = "none";
    };

    // åŠ è½½è¶…æ—¶å¤„ç†ï¼ˆé˜²æ­¢é•¿æœŸæ˜¾ç¤ºåŠ è½½ä¸­ï¼‰
    setTimeout(() => {
      if (player.style.display === "none") {
        loadingTip.textContent = "ç›´æ’­åŠ è½½è¶…æ—¶ï¼Œå¯èƒ½æ˜¯ç›´æ’­é—´æœªå¼€æ’­æˆ–ç½‘ç»œé—®é¢˜";
        loadingTip.style.color = "#ff7a45";
      }
    }, 10000);
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨å¿«æ‰‹ç›´æ’­æ’­æ”¾å™¨ -->

<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨å“”å“©å“”å“©ç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 950px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- å“”å“©å“”å“©ç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹å‚æ•°å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™Bç«™ç›´æ’­é—´IDæˆ–å®Œæ•´é“¾æ¥ï¼ˆäºŒé€‰ä¸€ï¼ŒIDä¼˜å…ˆï¼Œæ›´ç¨³å®šï¼‰
    const bilibiliLiveConfig = {
      liveRoomId: "2233", // Bç«™ç›´æ’­é—´æ•°å­—IDï¼ˆç¤ºä¾‹ï¼šä»ç›´æ’­URLæå–ï¼Œå¦‚https://live.bilibili.com/2233 â†’ IDä¸º2233ï¼‰
      liveRoomUrl: "" // Bç«™ç›´æ’­é—´å®Œæ•´é“¾æ¥ï¼ˆç¤ºä¾‹ï¼šhttps://live.bilibili.com/2233ï¼Œå¡«IDåˆ™æ­¤å‚æ•°æ— æ•ˆï¼‰
    };

    // è‡ªåŠ¨ç”ŸæˆBç«™æ ‡å‡†ç›´æ’­åµŒå…¥é“¾æ¥ï¼ˆé€‚é…iframeæ’­æ”¾è§„åˆ™ï¼‰
    function getValidBilibiliUrl() {
      const roomId = bilibiliLiveConfig.liveRoomId || bilibiliLiveConfig.liveRoomUrl.match(/live\.bilibili\.com\/(\d+)/)[1];
      // Bç«™æä¾›ä¸“ç”¨åµŒå…¥é“¾æ¥ï¼Œå¸¦è‡ªåŠ¨æ’­æ”¾å’ŒåŸºç¡€æ§åˆ¶åŠŸèƒ½
      return `https://live.bilibili.com/embed/${roomId}?autoplay=0&high_quality=1&danmaku=1`;
    }
  </script>

  <!-- åŠ è½½çŠ¶æ€æç¤º -->
  <div id="bilibiliLoading" style="text-align: center; padding: 30px; background: #fafafa; color: #666; font-size: 15px;">
    æ­£åœ¨åŠ è½½å“”å“©å“”å“©ç›´æ’­...
  </div>

  <!-- ç›´æ’­æ’­æ”¾å™¨ä¸»ä½“ï¼ˆä½¿ç”¨Bç«™å®˜æ–¹åµŒå…¥æ ¼å¼ï¼Œå…¼å®¹æ€§æ›´å¼ºï¼‰ -->
  <iframe
    id="bilibiliLivePlayer"
    src=""
    width="100%"
    height="600"
    frameborder="0"
    scrolling="no"
    allowfullscreen="true"
    style="display: none; border: none;"
    title="å“”å“©å“”å“©ç›´æ’­é—´æ’­æ”¾"
    allow="autoplay; fullscreen"
  ></iframe>
</div>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ’­æ”¾å™¨
  document.addEventListener("DOMContentLoaded", function() {
    const liveUrl = getValidBilibiliUrl();
    const player = document.getElementById("bilibiliLivePlayer");
    const loadingTip = document.getElementById("bilibiliLoading");

    // æ ¡éªŒé…ç½®æœ‰æ•ˆæ€§ï¼ˆæ£€æŸ¥æ˜¯å¦èƒ½æå–åˆ°ç›´æ’­é—´IDï¼‰
    if (!liveUrl.includes("embed")) {
      loadingTip.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„Bç«™ç›´æ’­é—´IDæˆ–é“¾æ¥ï¼";
      loadingTip.style.color = "#fb7299";
      return;
    }

    // åŠ è½½Bç«™ç›´æ’­ï¼ˆç›´æ¥ä½¿ç”¨å®˜æ–¹åµŒå…¥é“¾æ¥ï¼Œç¨³å®šæ€§æ›´é«˜ï¼‰
    player.src = liveUrl;

    // ç›‘å¬æ’­æ”¾å™¨åŠ è½½çŠ¶æ€
    player.onload = function() {
      player.style.display = "block";
      loadingTip.style.display = "none";
    };

    // åŠ è½½è¶…æ—¶å¤„ç†
    setTimeout(() => {
      if (player.style.display === "none") {
        loadingTip.textContent = "ç›´æ’­åŠ è½½è¶…æ—¶ï¼Œå¯èƒ½æ˜¯ç›´æ’­é—´æœªå¼€æ’­ã€ç½‘ç»œé—®é¢˜æˆ–IDé”™è¯¯";
        loadingTip.style.color = "#ff7a45";
      }
    }, 8000);
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨å“”å“©å“”å“©ç›´æ’­æ’­æ”¾å™¨ -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨å¾®ä¿¡è§†é¢‘å·ç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 850px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- å¾®ä¿¡è§†é¢‘å·ç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹å‚æ•°å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™è§†é¢‘å·ç›´æ’­â€œåˆ†äº«é“¾æ¥â€æˆ–â€œè§†é¢‘å·ID+ç›´æ’­çŠ¶æ€æç¤ºâ€ï¼ˆå¾®ä¿¡æ— å…¬å¼€åµŒå…¥APIï¼Œç”¨è·³è½¬+æç¤ºæ–¹æ¡ˆï¼‰
    const wechatLiveConfig = {
      liveShareUrl: "https://channels.weixin.qq.com/web/pages/live?room_id=1234567890", // è§†é¢‘å·ç›´æ’­åˆ†äº«é“¾æ¥ï¼ˆä»å¾®ä¿¡â€œåˆ†äº«åˆ°æœ‹å‹åœˆ/å¤åˆ¶é“¾æ¥â€è·å–ï¼‰
      channelId: "gh_abcdef123456", // è§†é¢‘å·IDï¼ˆä»è§†é¢‘å·ä¸»é¡µâ€œæ›´å¤šèµ„æ–™â€è·å–ï¼Œæ ¼å¼å¦‚gh_å¼€å¤´ï¼‰
      liveTip: "å½“å‰ç›´æ’­éœ€è·³è½¬å¾®ä¿¡æŸ¥çœ‹ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥" // è‡ªå®šä¹‰æç¤ºæ–‡æ¡ˆ
    };

    // ç”Ÿæˆè§†é¢‘å·ç›´æ’­è®¿é—®é“¾æ¥ï¼ˆåŒºåˆ†åˆ†äº«é“¾æ¥å’Œè´¦å·ä¸»é¡µï¼‰
    function getValidWechatUrl() {
      return wechatLiveConfig.liveShareUrl || `https://channels.weixin.qq.com/web/pages/profile?username=${wechatLiveConfig.channelId}`;
    }
  </script>

  <!-- ç›´æ’­çŠ¶æ€æç¤ºä¸è·³è½¬åŒºåŸŸï¼ˆå¾®ä¿¡é™åˆ¶iframeç›´æ¥æ’­æ”¾ï¼Œç”¨è·³è½¬æ–¹æ¡ˆï¼‰ -->
  <div id="wechatLiveTip" style="text-align: center; padding: 40px 20px; background: #fafafa; color: #666; font-size: 15px;">
    æ­£åœ¨æ£€æŸ¥å¾®ä¿¡è§†é¢‘å·ç›´æ’­çŠ¶æ€...
  </div>

  <!-- å¾®ä¿¡ç›´æ’­è·³è½¬æŒ‰é’®ï¼ˆé€‚é…ç§»åŠ¨ç«¯/PCç«¯ï¼Œç‚¹å‡»è·³è½¬å¾®ä¿¡ç¯å¢ƒï¼‰ -->
  <div id="wechatLiveBtnContainer" style="text-align: center; padding: 20px 0; display: none;">
    <a 
      id="wechatLiveBtn" 
      href="" 
      target="_blank" 
      style="display: inline-block; padding: 12px 30px; background: #07c160; color: #fff; border-radius: 4px; text-decoration: none; font-weight: 500; transition: background 0.3s;"
    >
      ç‚¹å‡»è¿›å…¥å¾®ä¿¡è§†é¢‘å·ç›´æ’­
    </a>
    <p style="margin-top: 15px; font-size: 14px; color: #999;">æç¤ºï¼šè‹¥æ— æ³•æ‰“å¼€ï¼Œè¯·åœ¨å¾®ä¿¡å†…å¤åˆ¶é“¾æ¥è®¿é—®</p>
  </div>
</div>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æç¤ºä¸è·³è½¬
  document.addEventListener("DOMContentLoaded", function() {
    const liveUrl = getValidWechatUrl();
    const tipDom = document.getElementById("wechatLiveTip");
    const btnContainer = document.getElementById("wechatLiveBtnContainer");
    const btnDom = document.getElementById("wechatLiveBtn");

    // æ ¡éªŒé…ç½®æœ‰æ•ˆæ€§
    if (!liveUrl.includes("channels.weixin.qq.com")) {
      tipDom.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„å¾®ä¿¡è§†é¢‘å·ç›´æ’­é“¾æ¥æˆ–è§†é¢‘å·IDï¼";
      tipDom.style.color = "#ff4d4f";
      return;
    }

    // æ›´æ–°æç¤ºæ–‡æ¡ˆä¸è·³è½¬é“¾æ¥
    setTimeout(() => {
      tipDom.textContent = wechatLiveConfig.liveTip;
      tipDom.style.color = "#333";
      btnDom.href = liveUrl;
      btnContainer.style.display = "block";
    }, 1200);

    // æ£€æµ‹æ˜¯å¦ä¸ºå¾®ä¿¡ç¯å¢ƒï¼ˆå¯é€‰ï¼šå¾®ä¿¡å†…æ‰“å¼€å¯ç›´æ¥è°ƒèµ·è§†é¢‘å·ï¼‰
    function isWechatEnv() {
      const ua = navigator.userAgent.toLowerCase();
      return ua.includes("micromessenger");
    }

    // å¾®ä¿¡ç¯å¢ƒä¸‹ä¼˜åŒ–æç¤º
    if (isWechatEnv()) {
      document.getElementById("wechatLiveBtn").innerText = "ç‚¹å‡»ç›´æ¥æ‰“å¼€å¾®ä¿¡è§†é¢‘å·ç›´æ’­";
    }
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨å¾®ä¿¡è§†é¢‘å·ç›´æ’­æ’­æ”¾å™¨ -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨YouTubeç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 1000px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- YouTubeç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹å‚æ•°å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™YouTubeç›´æ’­é—´IDæˆ–å®Œæ•´é“¾æ¥ï¼ˆäºŒé€‰ä¸€ï¼ŒIDä¼˜å…ˆï¼Œå…¼å®¹æ€§æ›´å¼ºï¼‰
    const youtubeLiveConfig = {
      liveRoomId: "abc123XYZ", // YouTubeç›´æ’­é—´IDï¼ˆä»ç›´æ’­URLæå–ï¼šå¦‚https://www.youtube.com/watch?v=abc123XYZ â†’ IDä¸ºabc123XYZï¼‰
      liveRoomUrl: "", // YouTubeç›´æ’­é—´å®Œæ•´é“¾æ¥ï¼ˆç¤ºä¾‹ï¼šhttps://www.youtube.com/watch?v=abc123XYZï¼Œå¡«IDåˆ™æ­¤å‚æ•°æ— æ•ˆï¼‰
      showChat: true, // æ˜¯å¦æ˜¾ç¤ºç›´æ’­å¼¹å¹•ï¼ˆtrue=æ˜¾ç¤ºï¼Œfalse=éšè—ï¼‰
      autoPlay: false // æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼ˆtrue=è‡ªåŠ¨æ’­æ”¾ï¼Œfalse=ç‚¹å‡»æ’­æ”¾ï¼Œå—æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾ç­–ç•¥é™åˆ¶ï¼‰
    };

    // è‡ªåŠ¨ç”ŸæˆYouTubeå®˜æ–¹åµŒå…¥é“¾æ¥ï¼ˆé€‚é…iframeæ’­æ”¾è§„åˆ™ï¼‰
    function getValidYoutubeUrl() {
      // æå–ç›´æ’­é—´IDï¼ˆè‹¥å¡«é“¾æ¥åˆ™è‡ªåŠ¨è§£æï¼Œå¡«IDç›´æ¥ä½¿ç”¨ï¼‰
      const roomId = youtubeLiveConfig.liveRoomId || 
                    (youtubeLiveConfig.liveRoomUrl.match(/watch\?v=([^&]+)/) || [])[1];
      // YouTubeç›´æ’­åµŒå…¥é“¾æ¥æ¨¡æ¿ï¼Œå¸¦å¼¹å¹•ã€è‡ªåŠ¨æ’­æ”¾æ§åˆ¶
      return `https://www.youtube.com/embed/${roomId}?autoplay=${youtubeLiveConfig.autoPlay ? 1 : 0}&enablejsapi=1&rel=0&showinfo=0&modestbranding=1&iv_load_policy=3&cc_load_policy=0&${youtubeLiveConfig.showChat ? 'livechat' : ''}`;
    }
  </script>

  <!-- åŠ è½½çŠ¶æ€æç¤º -->
  <div id="youtubeLoading" style="text-align: center; padding: 30px; background: #fafafa; color: #666; font-size: 15px;">
    æ­£åœ¨åŠ è½½YouTubeç›´æ’­...
  </div>

  <!-- ç›´æ’­æ’­æ”¾å™¨ä¸»ä½“ï¼ˆä½¿ç”¨YouTubeå®˜æ–¹åµŒå…¥æ ¼å¼ï¼Œç¨³å®šå…¼å®¹ï¼‰ -->
  <iframe
    id="youtubeLivePlayer"
    src=""
    width="100%"
    height="600"
    frameborder="0"
    scrolling="no"
    allowfullscreen="true"
    style="display: none; border: none;"
    title="YouTubeç›´æ’­é—´æ’­æ”¾"
    allow="autoplay; fullscreen; accelerometer; gyroscope"
  ></iframe>
</div>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ’­æ”¾å™¨
  document.addEventListener("DOMContentLoaded", function() {
    const liveUrl = getValidYoutubeUrl();
    const player = document.getElementById("youtubeLivePlayer");
    const loadingTip = document.getElementById("youtubeLoading");

    // æ ¡éªŒé…ç½®æœ‰æ•ˆæ€§ï¼ˆæ£€æŸ¥æ˜¯å¦æå–åˆ°æœ‰æ•ˆç›´æ’­é—´IDï¼‰
    if (!liveUrl.includes("embed/") || liveUrl.includes("embed/undefined")) {
      loadingTip.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„YouTubeç›´æ’­é—´IDæˆ–é“¾æ¥ï¼";
      loadingTip.style.color = "#ff4d4f";
      return;
    }

    // åŠ è½½YouTubeç›´æ’­ï¼ˆç›´æ¥ä½¿ç”¨å®˜æ–¹åµŒå…¥é“¾æ¥ï¼Œæ”¯æŒå¼¹å¹•å’Œæ’­æ”¾æ§åˆ¶ï¼‰
    player.src = liveUrl;

    // ç›‘å¬æ’­æ”¾å™¨åŠ è½½çŠ¶æ€
    player.onload = function() {
      player.style.display = "block";
      loadingTip.style.display = "none";
    };

    // åŠ è½½è¶…æ—¶å¤„ç†ï¼ˆé€‚é…ç½‘ç»œå»¶è¿Ÿæƒ…å†µï¼‰
    setTimeout(() => {
      if (player.style.display === "none") {
        loadingTip.textContent = "ç›´æ’­åŠ è½½è¶…æ—¶ï¼Œå¯èƒ½æ˜¯ï¼š1.ç›´æ’­é—´æœªå¼€æ’­ 2.ç½‘ç»œé—®é¢˜ 3.éœ€ç§‘å­¦ä¸Šç½‘";
        loadingTip.style.color = "#ff7a45";
      }
    }, 12000);
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨YouTubeç›´æ’­æ’­æ”¾å™¨ -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨éŸ³ä¹æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 800px; margin: 25px auto; padding: 20px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- éŸ³ä¹é…ç½®åŒºï¼šç›´æ¥æ·»åŠ /ä¿®æ”¹éŸ³ä¹ä¿¡æ¯å³å¯ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šéŸ³ä¹åˆ—è¡¨ï¼ˆæ”¯æŒå¤šé¦–ï¼Œå¯æ·»åŠ /åˆ é™¤ï¼Œæ¯é¦–éœ€å¡«å†™titleã€artistã€urlï¼‰
    const musicList = [
      {
        title: "å­¤å‹‡è€…",       // éŸ³ä¹æ ‡é¢˜
        artist: "é™ˆå¥•è¿…",     // æ­Œæ‰‹
        url: "https://example.com/music/gu Yongzhe.mp3", // éŸ³ä¹æ–‡ä»¶URLï¼ˆéœ€æ˜¯å…¬å¼€å¯è®¿é—®çš„MP3é“¾æ¥ï¼‰
        cover: "https://example.com/covers/gu Yongzhe.jpg" // å¯é€‰ï¼šä¸“è¾‘å°é¢å›¾URL
      },
      {
        title: "èµ·é£äº†",
        artist: "ä¹°è¾£æ¤’ä¹Ÿç”¨åˆ¸",
        url: "https://example.com/music/qi Fengle.mp3",
        cover: "https://example.com/covers/qi Fengle.jpg"
      },
      {
        title: "å°å¹¸è¿",
        artist: "ç”°é¦¥ç”„",
        url: "https://example.com/music/xiao Xingyun.mp3",
        cover: "https://example.com/covers/xiao Xingyun.jpg"
      }
    ];

    // å½“å‰æ’­æ”¾ç´¢å¼•ï¼ˆé»˜è®¤ä»ç¬¬1é¦–å¼€å§‹ï¼‰
    let currentMusicIndex = 0;
  </script>

  <!-- æ’­æ”¾å™¨ä¸»ä½“ -->
  <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
    <!-- ä¸“è¾‘å°é¢ -->
    <div style="position: relative; width: 120px; height: 120px; border-radius: 8px; overflow: hidden; flex-shrink: 0;">
      <img id="musicCover" src="" alt="ä¸“è¾‘å°é¢" style="width: 100%; height: 100%; object-fit: cover;">
      <!-- å°é¢æ—‹è½¬åŠ¨ç”»ï¼ˆæ’­æ”¾æ—¶ç”Ÿæ•ˆï¼‰ -->
      <style>
        @keyframes rotate {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .rotating { animation: rotate 10s linear infinite; }
      </style>
    </div>

    <!-- éŸ³ä¹ä¿¡æ¯ä¸æ§åˆ¶åŒº -->
    <div style="flex: 1; min-width: 250px;">
      <!-- éŸ³ä¹æ ‡é¢˜ä¸æ­Œæ‰‹ -->
      <h3 id="musicTitle" style="margin: 0 0 8px; font-size: 18px; color: #333;">--</h3>
      <p id="musicArtist" style="margin: 0 0 15px; font-size: 14px; color: #666;">--</p>

      <!-- è¿›åº¦æ¡ -->
      <div style="width: 100%; margin-bottom: 12px;">
        <input 
          id="musicProgress" 
          type="range" 
          min="0" 
          max="100" 
          value="0" 
          style="width: 100%; height: 4px; appearance: none; background: #f2f2f2; border-radius: 2px; outline: none;"
        >
        <!-- è¿›åº¦æ¡æ ·å¼ä¼˜åŒ–ï¼ˆå…¼å®¹ä¸»æµæµè§ˆå™¨ï¼‰ -->
        <style>
          #musicProgress::-webkit-slider-thumb {
            appearance: none;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #2c3e50;
            cursor: pointer;
          }
          #musicProgress::-moz-range-thumb {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #2c3e50;
            cursor: pointer;
            border: none;
          }
        </style>
      </div>

      <!-- æ—¶é—´ä¸æ§åˆ¶æŒ‰é’® -->
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <span id="musicTime" style="font-size: 12px; color: #999;">00:00 / 00:00</span>
        <div style="display: flex; gap: 15px; align-items: center;">
          <button id="prevBtn" style="background: none; border: none; font-size: 20px; color: #2c3e50; cursor: pointer;">â®</button>
          <button id="playPauseBtn" style="background: #2c3e50; color: #fff; border: none; width: 40px; height: 40px; border-radius: 50%; font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center;">â–¶</button>
          <button id="nextBtn" style="background: none; border: none; font-size: 20px; color: #2c3e50; cursor: pointer;">â­</button>
        </div>
      </div>
    </div>
  </div>

  <!-- éŸ³ä¹åˆ—è¡¨ï¼ˆå¯é€‰æ˜¾ç¤ºï¼‰ -->
  <div style="margin-top: 20px; border-top: 1px solid #f5f5f5; padding-top: 15px;">
    <h4 style="margin: 0 0 10px; font-size: 14px; color: #666;">æ’­æ”¾åˆ—è¡¨</h4>
    <ul id="musicPlaylist" style="margin: 0; padding: 0; list-style: none;">
      <!-- åˆ—è¡¨é¡¹ç”±JSåŠ¨æ€ç”Ÿæˆ -->
    </ul>
  </div>
</div>

<script>
  // åˆå§‹åŒ–éŸ³é¢‘å…ƒç´ 
  const audio = new Audio();
  // è·å–DOMå…ƒç´ 
  const playPauseBtn = document.getElementById("playPauseBtn");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const musicProgress = document.getElementById("musicProgress");
  const musicTime = document.getElementById("musicTime");
  const musicTitle = document.getElementById("musicTitle");
  const musicArtist = document.getElementById("musicArtist");
  const musicCover = document.getElementById("musicCover");
  const musicPlaylist = document.getElementById("musicPlaylist");
  const coverDom = document.querySelector("#musicCover").parentElement;

  // åŠ è½½æŒ‡å®šç´¢å¼•çš„éŸ³ä¹
  function loadMusic(index) {
    const music = musicList[index];
    audio.src = music.url;
    musicTitle.textContent = music.title;
    musicArtist.textContent = music.artist;
    // åŠ è½½å°é¢ï¼ˆè‹¥æ— åˆ™ç”¨é»˜è®¤å›¾ï¼‰
    musicCover.src = music.cover || "https://via.placeholder.com/120x120?text=Music";
    // æ›´æ–°å½“å‰æ’­æ”¾ç´¢å¼•
    currentMusicIndex = index;
    // æ›´æ–°æ’­æ”¾åˆ—è¡¨é€‰ä¸­çŠ¶æ€
    updatePlaylistActive();
    // åŠ è½½å®Œæˆåè‡ªåŠ¨æ’­æ”¾
    audio.load();
    audio.play().then(() => {
      playPauseBtn.textContent = "â¸";
      coverDom.classList.add("rotating");
    }).catch(err => {
      console.error("æ’­æ”¾å¤±è´¥ï¼š", err);
      playPauseBtn.textContent = "â–¶";
      coverDom.classList.remove("rotating");
    });
  }

  // æ›´æ–°æ’­æ”¾åˆ—è¡¨é€‰ä¸­çŠ¶æ€
  function updatePlaylistActive() {
    const listItems = musicPlaylist.querySelectorAll("li");
    listItems.forEach((item, index) => {
      if (index === currentMusicIndex) {
        item.style.color = "#2c3e50";
        item.style.fontWeight = "500";
      } else {
        item.style.color = "#666";
        item.style.fontWeight = "normal";
      }
    });
  }

  // æ ¼å¼åŒ–æ—¶é—´ï¼ˆç§’è½¬åˆ†:ç§’ï¼‰
  function formatTime(seconds) {
    const min = Math.floor(seconds / 60);
    const sec = Math.floor(seconds % 60);
    return `${min.toString().padStart(2, "0")}:${sec.toString().padStart(2, "0")}`;
  }

  // åˆå§‹åŒ–æ’­æ”¾åˆ—è¡¨
  function initPlaylist() {
    musicList.forEach((music, index) => {
      const li = document.createElement("li");
      li.textContent = `${index + 1}. ${music.title} - ${music.artist}`;
      li.style.padding = "6px 0";
      li.style.cursor = "pointer";
      li.addEventListener("click", () => loadMusic(index));
      musicPlaylist.appendChild(li);
    });
  }

  // äº‹ä»¶ç›‘å¬ï¼šæ’­æ”¾/æš‚åœ
  playPauseBtn.addEventListener("click", () => {
    if (audio.paused) {
      audio.play().then(() => {
        playPauseBtn.textContent = "â¸";
        coverDom.classList.add("rotating");
      }).catch(err => console.error("æ’­æ”¾å¤±è´¥ï¼š", err));
    } else {
      audio.pause();
      playPauseBtn.textContent = "â–¶";
      coverDom.classList.remove("rotating");
    }
  });

  // äº‹ä»¶ç›‘å¬ï¼šä¸Šä¸€é¦–
  prevBtn.addEventListener("click", () => {
    currentMusicIndex = (currentMusicIndex - 1 + musicList.length) % musicList.length;
    loadMusic(currentMusicIndex);
  });

  // äº‹ä»¶ç›‘å¬ï¼šä¸‹ä¸€é¦–
  nextBtn.addEventListener("click", () => {
    currentMusicIndex = (currentMusicIndex + 1) % musicList.length;
    loadMusic(currentMusicIndex);
  });

  // äº‹ä»¶ç›‘å¬ï¼šè¿›åº¦æ¡æ‹–åŠ¨
  musicProgress.addEventListener("input", () => {
    const progress = (musicProgress.value / 100) * audio.duration;
    audio.currentTime = progress;
  });

  // äº‹ä»¶ç›‘å¬ï¼šéŸ³é¢‘è¿›åº¦æ›´æ–°
  audio.addEventListener("timeupdate", () => {
    const progressPercent = (audio.currentTime / audio.duration) * 100;
    musicProgress.value = progressPercent;
    musicTime.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
  });

  // äº‹ä»¶ç›‘å¬ï¼šéŸ³é¢‘æ’­æ”¾ç»“æŸï¼ˆè‡ªåŠ¨ä¸‹ä¸€é¦–ï¼‰
  audio.addEventListener("ended", () => {
    currentMusicIndex = (currentMusicIndex + 1) % musicList.length;
    loadMusic(currentMusicIndex);
  });

  // åˆå§‹åŒ–ï¼šåŠ è½½ç¬¬ä¸€é¦–éŸ³ä¹+ç”Ÿæˆæ’­æ”¾åˆ—è¡¨
  window.addEventListener("DOMContentLoaded", () => {
    initPlaylist();
    loadMusic(0);
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨éŸ³ä¹æ’­æ”¾å™¨ -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨M3U8ç”µè§†ç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 1000px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- M3U8ç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹é“¾æ¥å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™M3U8ç”µè§†ç›´æ’­é“¾æ¥ï¼ˆéœ€æ˜¯å…¬å¼€å¯è®¿é—®çš„æœ‰æ•ˆM3U8åœ°å€ï¼‰
    const m3u8LiveConfig = {
      liveUrl: "https://example.com/live/cctv1.m3u8", // M3U8ç›´æ’­æºé“¾æ¥ï¼ˆæ›¿æ¢ä¸ºä½ çš„å®é™…é“¾æ¥ï¼‰
      liveName: "CCTV1 ç»¼åˆé¢‘é“", // ç›´æ’­é¢‘é“åç§°ï¼ˆè‡ªå®šä¹‰ï¼Œå¦‚â€œæ¹–å—å«è§†â€â€œCCTV5+ä½“è‚²â€ï¼‰
      autoPlay: false, // æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼ˆtrue=è‡ªåŠ¨ï¼Œfalse=ç‚¹å‡»æ’­æ”¾ï¼Œå—æµè§ˆå™¨ç­–ç•¥é™åˆ¶ï¼‰
      controls: true // æ˜¯å¦æ˜¾ç¤ºæ’­æ”¾å™¨æ§åˆ¶æ ï¼ˆè¿›åº¦ã€éŸ³é‡ç­‰ï¼Œtrue=æ˜¾ç¤ºï¼Œfalse=éšè—ï¼‰
    };
  </script>

  <!-- æ’­æ”¾å™¨å®¹å™¨ -->
  <div style="position: relative; width: 100%;">
    <!-- åŠ è½½çŠ¶æ€æç¤º -->
    <div id="m3u8Loading" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 16px; z-index: 10;">
      æ­£åœ¨åŠ è½½ã€Œ${m3u8LiveConfig.liveName}ã€ç›´æ’­...
    </div>

    <!-- è§†é¢‘æ’­æ”¾å™¨ä¸»ä½“ï¼ˆç”¨äºæ‰¿è½½M3U8æµï¼‰ -->
    <video
      id="m3u8LivePlayer"
      style="width: 100%; height: auto; min-height: 500px; background: #000; display: block;"
      playsinline
      webkit-playsinline
      controls="${m3u8LiveConfig.controls}"
      autoplay="${m3u8LiveConfig.autoPlay}"
      preload="auto"
    >
      æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ï¼Œè¯·å‡çº§æµè§ˆå™¨åé‡è¯•ã€‚
    </video>

    <!-- ç›´æ’­é¢‘é“åç§°æ ‡ç­¾ -->
    <div style="position: absolute; top: 15px; left: 15px; background: rgba(0,0,0,0.5); color: #fff; padding: 5px 12px; border-radius: 4px; font-size: 14px; z-index: 5;">
      ${m3u8LiveConfig.liveName}
    </div>
  </div>

  <!-- æ’­æ”¾çŠ¶æ€æç¤ºï¼ˆé”™è¯¯/æœªå¼€æ’­ç­‰ï¼‰ -->
  <div id="m3u8StatusTip" style="padding: 15px; text-align: center; font-size: 14px; color: #666; display: none;"></div>
</div>

<!-- å¼•å…¥M3U8è§£æä¾èµ–ï¼ˆHls.jsï¼Œå¤„ç†M3U8æµæ’­æ”¾ï¼‰ -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.14/dist/hls.min.js"></script>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ’­æ”¾å™¨
  document.addEventListener("DOMContentLoaded", function() {
    const videoElement = document.getElementById("m3u8LivePlayer");
    const loadingDom = document.getElementById("m3u8Loading");
    const statusTipDom = document.getElementById("m3u8StatusTip");
    const liveUrl = m3u8LiveConfig.liveUrl;

    // æ›¿æ¢åŠ è½½æç¤ºä¸­çš„é¢‘é“åç§°
    loadingDom.textContent = `æ­£åœ¨åŠ è½½ã€Œ${m3u8LiveConfig.liveName}ã€ç›´æ’­...`;

    // æ ¡éªŒM3U8é“¾æ¥æœ‰æ•ˆæ€§
    if (!liveUrl || !liveUrl.endsWith(".m3u8")) {
      loadingDom.style.display = "none";
      statusTipDom.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„M3U8ç›´æ’­é“¾æ¥ï¼ˆé“¾æ¥éœ€ä»¥.m3u8ç»“å°¾ï¼‰ï¼";
      statusTipDom.style.color = "#ff4d4f";
      statusTipDom.style.display = "block";
      return;
    }

    // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒHLSï¼ˆM3U8ï¼‰æ’­æ”¾
    function initM3u8Player() {
      // æƒ…å†µ1ï¼šæµè§ˆå™¨åŸç”Ÿæ”¯æŒHLSï¼ˆå¦‚Safariï¼‰
      if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
        videoElement.src = liveUrl;
        bindPlayerEvents();
      } 
      // æƒ…å†µ2ï¼šæµè§ˆå™¨ä¸åŸç”Ÿæ”¯æŒï¼Œç”¨Hls.jsè§£æ
      else if (window.Hls) {
        const hls = new Hls({
          enableWorker: true, // å¯ç”¨Workeræå‡æ€§èƒ½
          lowLatencyMode: true, // ä½å»¶è¿Ÿæ¨¡å¼ï¼ˆç›´æ’­æ›´å®æ—¶ï¼‰
          backBufferLength: 90 // ç¼“å­˜é•¿åº¦ï¼ˆç§’ï¼‰
        });

        // ç»‘å®šHls.jsäº‹ä»¶ï¼ˆåŠ è½½ã€é”™è¯¯ç­‰ï¼‰
        hls.on(Hls.Events.MANIFEST_PARSED, () => {
          console.log("M3U8ç›´æ’­æºè§£ææˆåŠŸï¼Œå¼€å§‹æ’­æ”¾");
          videoElement.src = liveUrl;
          if (m3u8LiveConfig.autoPlay) {
            videoElement.play().catch(handlePlayError);
          }
          bindPlayerEvents();
        });

        hls.on(Hls.Events.ERROR, (event, data) => {
          console.error("M3U8æ’­æ”¾é”™è¯¯ï¼š", data);
          loadingDom.style.display = "none";
          statusTipDom.textContent = `ç›´æ’­åŠ è½½å¤±è´¥ï¼š${data.details || "é“¾æ¥æ— æ•ˆæˆ–ç›´æ’­æœªå¼€æ’­"}`;
          statusTipDom.style.color = "#ff4d4f";
          statusTipDom.style.display = "block";
          // å°è¯•æ¢å¤æ’­æ”¾ï¼ˆé’ˆå¯¹ä¸´æ—¶ç½‘ç»œé”™è¯¯ï¼‰
          if (data.fatal) {
            switch(data.type) {
              case Hls.ErrorTypes.NETWORK_ERROR:
                hls.startLoad();
                break;
              case Hls.ErrorTypes.MEDIA_ERROR:
                hls.recoverMediaError();
                break;
              default:
                break;
            }
          }
        });

        // åŠ è½½M3U8é“¾æ¥
        hls.loadSource(liveUrl);
        hls.attachMedia(videoElement);
      } 
      // æƒ…å†µ3ï¼šæµè§ˆå™¨å®Œå…¨ä¸æ”¯æŒM3U8
      else {
        loadingDom.style.display = "none";
        statusTipDom.textContent = "æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒM3U8ç›´æ’­æ’­æ”¾ï¼Œè¯·ä½¿ç”¨Chromeã€Safariæˆ–Edgeç­‰ç°ä»£æµè§ˆå™¨ï¼";
        statusTipDom.style.color = "#ff4d4f";
        statusTipDom.style.display = "block";
      }
    }

    // ç»‘å®šè§†é¢‘æ’­æ”¾å™¨äº‹ä»¶ï¼ˆæ’­æ”¾ã€æš‚åœã€ç»“æŸç­‰ï¼‰
    function bindPlayerEvents() {
      // æ’­æ”¾æˆåŠŸï¼šéšè—åŠ è½½æç¤º
      videoElement.addEventListener("play", () => {
        loadingDom.style.display = "none";
        statusTipDom.style.display = "none";
      });

      // æ’­æ”¾æš‚åœï¼šæ˜¾ç¤ºâ€œå·²æš‚åœâ€æç¤º
      videoElement.addEventListener("pause", () => {
        if (!videoElement.ended) {
          statusTipDom.textContent = "ç›´æ’­å·²æš‚åœï¼Œç‚¹å‡»æ’­æ”¾æŒ‰é’®ç»§ç»­è§‚çœ‹";
          statusTipDom.style.color = "#666";
          statusTipDom.style.display = "block";
        }
      });

      // æ’­æ”¾é”™è¯¯ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
      videoElement.addEventListener("error", () => {
        loadingDom.style.display = "none";
        statusTipDom.textContent = `ç›´æ’­æ’­æ”¾é”™è¯¯ï¼š${videoElement.error.message || "æœªçŸ¥é”™è¯¯"}`;
        statusTipDom.style.color = "#ff4d4f";
        statusTipDom.style.display = "block";
      });
    }

    // å¤„ç†è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼ˆæµè§ˆå™¨æ‹¦æˆªï¼‰
    function handlePlayError(err) {
      console.warn("è‡ªåŠ¨æ’­æ”¾è¢«æ‹¦æˆªï¼š", err);
      loadingDom.style.display = "none";
      statusTipDom.textContent = "è¯·ç‚¹å‡»æ’­æ”¾å™¨çš„ã€Œæ’­æ”¾ã€æŒ‰é’®å¼€å§‹è§‚çœ‹ç›´æ’­ï¼ˆæµè§ˆå™¨æ‹¦æˆªäº†è‡ªåŠ¨æ’­æ”¾ï¼‰";
      statusTipDom.style.color = "#666";
      statusTipDom.style.display = "block";
    }

    // åˆå§‹åŒ–M3U8æ’­æ”¾å™¨
    initM3u8Player();
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨M3U8ç”µè§†ç›´æ’­æ’­æ”¾å™¨ -->





<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨QQè”ç³»æ–¹å¼æ¨¡å— -->
<div style="width: 100%; max-width: 600px; margin: 25px auto; padding: 20px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; display: flex; flex-wrap: wrap; align-items: center; gap: 20px;">
  <!-- QQå›¾æ ‡åŒºåŸŸ -->
  <div style="width: 100px; height: 100px; flex-shrink: 0; border-radius: 50%; background: #12B7F5; display: flex; align-items: center; justify-content: center;">
    <span style="font-size: 48px; color: #ffffff; font-weight: bold;">QQ</span>
  </div>

  <!-- è”ç³»æ–¹å¼æ ¸å¿ƒåŒºåŸŸ -->
  <div style="flex: 1; min-width: 250px;">
    <h3 style="margin: 0 0 15px; font-size: 18px; color: #333;">QQè”ç³»æˆ‘</h3>
    
    <!-- QQå·ç å±•ç¤º -->
    <div style="margin-bottom: 12px; display: flex; align-items: center; gap: 10px;">
      <span style="width: 60px; font-size: 14px; color: #666;">QQå·ç ï¼š</span>
      <span id="qq-number" style="font-size: 16px; color: #333; font-weight: 500;">123456789</span>
      <button onclick="copyQQNumber()" style="padding: 4px 8px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; color: #666; cursor: pointer;">å¤åˆ¶</button>
    </div>

    <!-- QQçŠ¶æ€æç¤º -->
    <div style="margin-bottom: 12px; display: flex; align-items: center; gap: 10px;">
      <span style="width: 60px; font-size: 14px; color: #666;">åœ¨çº¿çŠ¶æ€ï¼š</span>
      <span style="font-size: 14px; color: #12B7F5; display: flex; align-items: center; gap: 5px;">
        <span style="width: 8px; height: 8px; border-radius: 50%; background: #12B7F5;"></span>
        å·¥ä½œæ—¥9:00-18:00åœ¨çº¿ï¼Œçœ‹åˆ°æ¶ˆæ¯ä¼šåŠæ—¶å›å¤
      </span>
    </div>

    <!-- å¿«æ·è”ç³»æŒ‰é’® -->
    <div style="display: flex; gap: 10px;">
      <!-- ä¸€é”®åŠ å¥½å‹é“¾æ¥ï¼ˆéœ€æ›¿æ¢è‡ªå·±çš„QQå·ï¼‰ -->
      <a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=123456789&website=www.oicqzone.com" 
         target="_blank" 
         style="padding: 8px 16px; background: #12B7F5; color: #ffffff; border-radius: 4px; text-decoration: none; font-size: 14px; transition: background 0.3s;">
        ä¸€é”®åŠ å¥½å‹
      </a>
      <!-- å‘èµ·ä¸´æ—¶ä¼šè¯é“¾æ¥ï¼ˆéœ€æ›¿æ¢è‡ªå·±çš„QQå·ï¼‰ -->
      <a href="tencent://message/?uin=123456789&Site=qq&Menu=yes" 
         target="_blank" 
         style="padding: 8px 16px; background: #f5f5f5; color: #333; border: 1px solid #ddd; border-radius: 4px; text-decoration: none; font-size: 14px; transition: background 0.3s;">
        å‘èµ·ä¸´æ—¶ä¼šè¯
      </a>
    </div>
  </div>
</div>

<script>
  // å¤åˆ¶QQå·ç åŠŸèƒ½
  function copyQQNumber() {
    const qqNumber = document.getElementById("qq-number").textContent;
    // åˆ›å»ºä¸´æ—¶è¾“å…¥æ¡†å®ç°å¤åˆ¶
    const tempInput = document.createElement("input");
    tempInput.value = qqNumber;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    // æç¤ºå¤åˆ¶æˆåŠŸ
    alert(`QQå·ç  ${qqNumber} å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`);
  }

  // é¡µé¢åŠ è½½æ—¶æ›¿æ¢QQå·ï¼ˆä¹Ÿå¯ç›´æ¥åœ¨HTMLä¸­ä¿®æ”¹ï¼‰
  window.addEventListener("DOMContentLoaded", () => {
    // ğŸ‘‡ æ›¿æ¢ä¸ºä½ çš„çœŸå®QQå·ï¼Œä¼šåŒæ­¥æ›´æ–°æ‰€æœ‰å…³è”é“¾æ¥å’Œæ˜¾ç¤º
    const yourQQNumber = "123456789";
    
    // æ›´æ–°QQå·ç æ˜¾ç¤º
    document.getElementById("qq-number").textContent = yourQQNumber;
    // æ›´æ–°ä¸€é”®åŠ å¥½å‹é“¾æ¥
    document.querySelector("a[href*='AddContact']").href = `tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=${yourQQNumber}&website=www.oicqzone.com`;
    // æ›´æ–°ä¸´æ—¶ä¼šè¯é“¾æ¥
    document.querySelector("a[href*='message']").href = `tencent://message/?uin=${yourQQNumber}&Site=qq&Menu=yes`;
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨QQè”ç³»æ–¹å¼æ¨¡å— -->

<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨å¾®ä¿¡è”ç³»æ–¹å¼æ¨¡å— -->
<div style="width: 100%; max-width: 600px; margin: 25px auto; padding: 20px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; display: flex; flex-wrap: wrap; align-items: center; gap: 25px;">
  <!-- å¾®ä¿¡äºŒç»´ç åŒºåŸŸ -->
  <div style="flex-shrink: 0; text-align: center;">
    <!-- å¾®ä¿¡å›¾æ ‡ -->
    <div style="width: 80px; height: 80px; margin: 0 auto 10px; border-radius: 20px; background: #07C160; display: flex; align-items: center; justify-content: center;">
      <span style="font-size: 40px; color: #ffffff; font-weight: bold;">å¾®</span>
    </div>
    <!-- äºŒç»´ç å ä½ï¼ˆæ›¿æ¢ä¸ºè‡ªå·±çš„å¾®ä¿¡äºŒç»´ç å›¾ç‰‡URLï¼‰ -->
    <div style="width: 180px; height: 180px; margin: 0 auto; border: 1px solid #f5f5f5; border-radius: 8px; display: flex; align-items: center; justify-content: center; background: #fafafa;">
      <img id="wechat-qrcode" src="https://via.placeholder.com/160x160?text=å¾®ä¿¡äºŒç»´ç " alt="å¾®ä¿¡äºŒç»´ç " style="width: 160px; height: 160px; object-fit: cover;">
    </div>
    <p style="margin: 10px 0 0; font-size: 12px; color: #999;">æ‰«ç æ·»åŠ å¾®ä¿¡å¥½å‹</p>
  </div>

  <!-- å¾®ä¿¡è”ç³»ä¿¡æ¯åŒºåŸŸ -->
  <div style="flex: 1; min-width: 250px;">
    <h3 style="margin: 0 0 18px; font-size: 18px; color: #333;">å¾®ä¿¡è”ç³»æˆ‘</h3>
    
    <!-- å¾®ä¿¡å·å±•ç¤º -->
    <div style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
      <span style="min-width: 70px; font-size: 14px; color: #666;">å¾®ä¿¡å·ï¼š</span>
      <span id="wechat-id" style="font-size: 16px; color: #333; font-weight: 500; flex: 1;">wechat123456</span>
      <button onclick="copyWechatId()" style="padding: 5px 10px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; color: #666; cursor: pointer; white-space: nowrap;">å¤åˆ¶å¾®ä¿¡å·</button>
    </div>

    <!-- è”ç³»æç¤º -->
    <div style="margin-bottom: 15px; padding: 12px; border-radius: 8px; background: #fafafa; border-left: 4px solid #07C160;">
      <p style="margin: 0; font-size: 14px; color: #666; line-height: 1.5;">
        æ·»åŠ å¥½å‹æ—¶è¯·å¤‡æ³¨ <span style="color: #07C160; font-weight: 500;">â€œæ¥è‡ªGitHubåšå®¢â€</span>ï¼Œæ–¹ä¾¿æˆ‘å¿«é€Ÿé€šè¿‡~<br>
        æ—¥å¸¸ä¼šåŠæ—¶å›å¤æ¶ˆæ¯ï¼Œè‹¥æœªç§’å›è¯·ç¨ç­‰ï¼Œçœ‹åˆ°åä¼šç¬¬ä¸€æ—¶é—´å¤„ç†
      </p>
    </div>

    <!-- é¢å¤–è”ç³»è¯´æ˜ -->
    <div style="font-size: 13px; color: #999;">
      <p style="margin: 0;">ä¹Ÿå¯ç›´æ¥æœç´¢å¾®ä¿¡å·æ·»åŠ ï¼Œæˆ–ä¿å­˜ä¸Šæ–¹äºŒç»´ç å›¾ç‰‡åˆ°æ‰‹æœºï¼Œæ‰“å¼€å¾®ä¿¡â€œæ‰«ä¸€æ‰«â€è¯†åˆ«</p>
    </div>
  </div>
</div>

<script>
  // å¤åˆ¶å¾®ä¿¡å·åŠŸèƒ½
  function copyWechatId() {
    const wechatId = document.getElementById("wechat-id").textContent;
    // åˆ›å»ºä¸´æ—¶è¾“å…¥æ¡†å®ç°å¤åˆ¶
    const tempInput = document.createElement("input");
    tempInput.value = wechatId;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    // æç¤ºå¤åˆ¶æˆåŠŸ
    alert(`å¾®ä¿¡å· ${wechatId} å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`);
  }

  // é¡µé¢åŠ è½½æ—¶æ›¿æ¢å¾®ä¿¡ä¿¡æ¯ï¼ˆé›†ä¸­ä¿®æ”¹æ­¤å¤„å³å¯ï¼‰
  window.addEventListener("DOMContentLoaded", () => {
    // ğŸ‘‡ æ›¿æ¢ä¸ºä½ çš„å¾®ä¿¡ä¿¡æ¯
    const yourWechatId = "wechat123456"; // ä½ çš„å¾®ä¿¡å·
    const yourWechatQrcodeUrl = "https://via.placeholder.com/160x160?text=å¾®ä¿¡äºŒç»´ç "; // ä½ çš„å¾®ä¿¡äºŒç»´ç å›¾ç‰‡URLï¼ˆå»ºè®®ç”¨å…¬å¼€å›¾åºŠé“¾æ¥ï¼‰

    // æ›´æ–°å¾®ä¿¡å·æ˜¾ç¤º
    document.getElementById("wechat-id").textContent = yourWechatId;
    // æ›´æ–°å¾®ä¿¡äºŒç»´ç å›¾ç‰‡
    document.getElementById("wechat-qrcode").src = yourWechatQrcodeUrl;
    document.getElementById("wechat-qrcode").alt = `å¾®ä¿¡äºŒç»´ç ï¼ˆå¾®ä¿¡å·ï¼š${yourWechatId}ï¼‰`;
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨å¾®ä¿¡è”ç³»æ–¹å¼æ¨¡å— -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨é‚®ç®±è”ç³»æ–¹å¼æ¨¡å— -->
<div style="width: 100%; max-width: 650px; margin: 25px auto; padding: 22px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- å¤´éƒ¨å›¾æ ‡ä¸æ ‡é¢˜ -->
  <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
    <div style="width: 48px; height: 48px; border-radius: 8px; background: #007AFF; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
      <span style="font-size: 24px; color: #ffffff;">âœ‰ï¸</span>
    </div>
    <h3 style="margin: 0; font-size: 18px; color: #333;">é‚®ç®±è”ç³»æˆ‘</h3>
  </div>

  <!-- é‚®ç®±æ ¸å¿ƒä¿¡æ¯åŒº -->
  <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 15px; margin-bottom: 22px;">
    <!-- é‚®ç®±åœ°å€å±•ç¤º -->
    <div style="flex: 1; min-width: 280px; padding: 15px; border-radius: 8px; background: #fafafa; border-left: 4px solid #007AFF;">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
        <div>
          <p style="margin: 0 0 5px; font-size: 14px; color: #666;">æˆ‘çš„é‚®ç®±</p>
          <p id="email-address" style="margin: 0; font-size: 16px; color: #333; font-weight: 500; word-break: break-all;">example@163.com</p>
        </div>
        <button onclick="copyEmail()" style="padding: 6px 12px; background: #007AFF; color: #ffffff; border: none; border-radius: 4px; font-size: 14px; cursor: pointer; transition: background 0.3s;">
          å¤åˆ¶é‚®ç®±
        </button>
      </div>
    </div>

    <!-- ä¸€é”®å‘é€æŒ‰é’® -->
    <a id="email-send-link" href="mailto:example@163.com?subject=æ¥è‡ªGitHubåšå®¢çš„è”ç³»" 
       target="_blank" 
       style="padding: 10px 20px; background: #f5f5f5; color: #333; border: 1px solid #ddd; border-radius: 4px; text-decoration: none; font-size: 14px; white-space: nowrap; transition: background 0.3s;">
       ä¸€é”®å‘é€é‚®ä»¶
    </a>
  </div>

  <!-- é‚®ä»¶å¤‡æ³¨æç¤º -->
  <div style="padding: 14px; border-radius: 8px; background: #f8f9fa; border: 1px solid #f0f0f0;">
    <p style="margin: 0; font-size: 14px; color: #666; line-height: 1.6;">
      <span style="color: #007AFF; font-weight: 500;">å»ºè®®å¤‡æ³¨</span>ï¼šå‘é€é‚®ä»¶æ—¶å¯åœ¨ä¸»é¢˜æ æ³¨æ˜â€œæ¥è‡ªGitHubåšå®¢â€ï¼Œæ­£æ–‡è¯´æ˜ä½ çš„éœ€æ±‚ï¼ˆå¦‚æŠ€æœ¯äº¤æµã€åˆä½œå’¨è¯¢ç­‰ï¼‰ï¼Œæˆ‘ä¼šåœ¨1-2ä¸ªå·¥ä½œæ—¥å†…å›å¤ï¼Œæ„Ÿè°¢ç†è§£ï½
    </p>
  </div>
</div>

<script>
  // å¤åˆ¶é‚®ç®±åŠŸèƒ½
  function copyEmail() {
    const email = document.getElementById("email-address").textContent;
    // åˆ›å»ºä¸´æ—¶è¾“å…¥æ¡†å®ç°å¤åˆ¶ï¼ˆå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼‰
    const tempInput = document.createElement("textarea");
    tempInput.value = email;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    // æç¤ºå¤åˆ¶æˆåŠŸ
    alert(`é‚®ç®± ${email} å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ç›´æ¥ç²˜è´´ä½¿ç”¨ï½`);
  }

  // é¡µé¢åŠ è½½æ—¶æ›¿æ¢é‚®ç®±ä¿¡æ¯ï¼ˆé›†ä¸­ä¿®æ”¹æ­¤å¤„å³å¯ï¼‰
  window.addEventListener("DOMContentLoaded", () => {
    // ğŸ‘‡ æ›¿æ¢ä¸ºä½ çš„çœŸå®é‚®ç®±ä¿¡æ¯
    const yourEmail = "example@163.com"; // ä½ çš„é‚®ç®±åœ°å€ï¼ˆå¦‚xxx@qq.comã€xxx@gmail.comï¼‰
    const emailSubject = "æ¥è‡ªGitHubåšå®¢çš„è”ç³»"; // é‚®ä»¶é»˜è®¤ä¸»é¢˜ï¼ˆå¯è‡ªå®šä¹‰ï¼‰

    // æ›´æ–°é‚®ç®±åœ°å€æ˜¾ç¤º
    document.getElementById("email-address").textContent = yourEmail;
    // æ›´æ–°â€œä¸€é”®å‘é€é‚®ä»¶â€é“¾æ¥ï¼ˆè‡ªåŠ¨æ‹¼æ¥ä¸»é¢˜ï¼‰
    document.getElementById("email-send-link").href = `mailto:${yourEmail}?subject=${encodeURIComponent(emailSubject)}`;
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨é‚®ç®±è”ç³»æ–¹å¼æ¨¡å— -->



<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨Telegram Botå‰ç«¯ç›´è¿æ¶ˆæ¯æ¨¡å—ï¼ˆå…ç™»å½•ï¼‰ -->
<div style="width: 100%; max-width: 700px; margin: 25px auto; padding: 22px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- å¤´éƒ¨ä¿¡æ¯ï¼šå›¾æ ‡+æ ‡é¢˜+å®‰å…¨æç¤º -->
  <div style="margin-bottom: 20px; border-bottom: 1px solid #f5f5f5; padding-bottom: 15px;">
    <h3 style="margin: 0 0 8px; font-size: 18px; color: #333; display: flex; align-items: center; gap: 10px;">
      <span style="font-size: 22px; color: #0088cc;">âœˆï¸</span>
      å‘é€æ¶ˆæ¯ç»™ Telegram Bot
    </h3>
    <p style="margin: 0 0 8px; font-size: 14px; color: #666;">å…ç™»å½•ç›´æ¥å‘é€ï¼Œæ¶ˆæ¯å°†å®æ—¶é€è¾¾æŒ‡å®šBot</p>
    <p style="margin: 0; font-size: 12px; color: #ff4d4f; background: #fff8f8; padding: 6px; border-radius: 4px;">
    </p>
  </div>

  <!-- æ¶ˆæ¯è¾“å…¥è¡¨å• -->
  <form id="tg-bot-form" style="display: flex; flex-direction: column; gap: 15px;">
    <!-- Boté…ç½®ï¼ˆè®¿å®¢æ— éœ€å¡«å†™ï¼Œä½ æå‰è®¾ç½®å¥½ï¼‰ -->
    <div style="padding: 10px; background: #fafafa; border-radius: 6px; font-size: 14px; color: #666;">
      å½“å‰æ¥æ”¶Botï¼š<span id="bot-name" style="color: #0088cc; font-weight: 500;">@Your_TJ_Bot</span>
    </div>

    <!-- è®¿å®¢æ¶ˆæ¯å†…å®¹ -->
    <div>
      <label style="display: block; margin-bottom: 6px; font-size: 14px; color: #666;">ä½ çš„æ¶ˆæ¯ï¼ˆå¿…å¡«ï¼‰</label>
      <textarea 
        id="message-content" 
        placeholder="è¯·è¾“å…¥è¦å‘é€çš„å†…å®¹ï¼Œæ¯”å¦‚å’¨è¯¢ã€åé¦ˆç­‰..." 
        style="width: 100%; min-height: 150px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; resize: vertical; box-sizing: border-box; font-family: inherit; font-size: 14px;"
        required
      ></textarea>
    </div>

    <!-- å¯é€‰è”ç³»ä¿¡æ¯ï¼ˆæ–¹ä¾¿ä½ å›å¤ï¼‰ -->
    <div>
      <label style="display: block; margin-bottom: 6px; font-size: 14px; color: #666;">ä½ çš„è”ç³»æ–¹å¼ï¼ˆå¯é€‰ï¼Œå¦‚Telegramç”¨æˆ·å/é‚®ç®±ï¼‰</label>
      <input 
        type="text" 
        id="visitor-contact" 
        placeholder="ä¾‹ï¼š@taylor_graham æˆ– xxx@email.com" 
        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 14px;"
      >
    </div>

    <!-- å‘é€æŒ‰é’®ä¸åé¦ˆ -->
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <button 
        type="submit" 
        id="send-btn" 
        style="padding: 12px 24px; background: #0088cc; color: #ffffff; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; transition: background 0.3s;"
      >
        å‘é€æ¶ˆæ¯
      </button>
      <div id="send-status" style="font-size: 14px; font-weight: 500;"></div>
    </div>
  </form>
</div>

<script>
  // *************************
  // ä½ éœ€è¦ä¿®æ”¹çš„æ ¸å¿ƒé…ç½®ï¼ˆå¿…æ”¹ï¼‰
  // *************************
  const TG_CONFIG = {
    botToken: "8430958771:AAG4bkt9cR5_ZTXgeM3MeH7oSODpMjM6wJs", 
    chatId: "6562518027", // ä½ çš„Telegramè´¦å·ID
    botUsername: "@youzaiwebblogbot" // ä½ çš„Botç”¨æˆ·å
  };

  // DOMå…ƒç´ è·å–
  const form = document.getElementById("tg-bot-form");
  const sendBtn = document.getElementById("send-btn");
  const sendStatus = document.getElementById("send-status");
  const messageContent = document.getElementById("message-content");
  const visitorContact = document.getElementById("visitor-contact");
  const botName = document.getElementById("bot-name");

  // é¡µé¢åŠ è½½æ—¶å¡«å……Botåç§°
  window.addEventListener("DOMContentLoaded", () => {
    botName.textContent = TG_CONFIG.botUsername;
  });

  // æ ¼å¼åŒ–æ¶ˆæ¯å†…å®¹ï¼ˆåŒ…å«æ—¶é—´å’Œè”ç³»æ–¹å¼ï¼‰
  function getFormattedMessage() {
    const contact = visitorContact.value.trim() || "æœªæä¾›è”ç³»æ–¹å¼";
    const content = messageContent.value.trim();
    const time = new Date().toLocaleString("zh-CN", {
      year: "numeric", month: "2-digit", day: "2-digit",
      hour: "2-digit", minute: "2-digit"
    });
    return `ã€GitHubåšå®¢è®¿å®¢æ¶ˆæ¯ã€‘\nå‘é€æ—¶é—´ï¼š${time}\nè®¿å®¢è”ç³»æ–¹å¼ï¼š${contact}\næ¶ˆæ¯å†…å®¹ï¼š\n${content}`;
  }

  // å‰ç«¯ç›´æ¥è°ƒç”¨Telegram Bot APIå‘é€æ¶ˆæ¯
  async function sendToTelegramBot(message) {
    // Telegram Bot APIçš„å‘é€æ¶ˆæ¯æ¥å£
    const apiUrl = `https://api.telegram.org/bot${TG_CONFIG.botToken}/sendMessage`;
    
    try {
      const response = await fetch(apiUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: TG_CONFIG.chatId,
          text: message,
          parse_mode: "HTML" // æ”¯æŒç®€å•HTMLæ ¼å¼ï¼ˆå¯é€‰ï¼‰
        })
      });

      const data = await response.json();
      return data.ok; // APIè¿”å›okä¸ºtrueè¡¨ç¤ºå‘é€æˆåŠŸ
    } catch (err) {
      console.error("å‘é€å¤±è´¥ï¼š", err);
      return false;
    }
  }

  // è¡¨å•æäº¤å¤„ç†
  form.addEventListener("submit", async (e) => {
    e.preventDefault(); // é˜»æ­¢è¡¨å•é»˜è®¤åˆ·æ–°

    // æŒ‰é’®çŠ¶æ€é”å®šï¼ˆé˜²æ­¢é‡å¤å‘é€ï¼‰
    sendBtn.disabled = true;
    sendBtn.style.opacity = "0.7";
    sendBtn.textContent = "å‘é€ä¸­...";
    sendStatus.textContent = "";

    try {
      // 1. è·å–æ ¼å¼åŒ–åçš„æ¶ˆæ¯
      const message = getFormattedMessage();
      // 2. è°ƒç”¨APIå‘é€æ¶ˆæ¯
      const isSuccess = await sendToTelegramBot(message);

      // 3. æ˜¾ç¤ºå‘é€ç»“æœ
      if (isSuccess) {
        sendStatus.textContent = "âœ… å‘é€æˆåŠŸï¼";
        sendStatus.style.color = "#008000";
        // æ¸…ç©ºè¾“å…¥æ¡†ï¼ˆä¿ç•™è”ç³»æ–¹å¼ï¼‰
        messageContent.value = "";
      } else {
        sendStatus.textContent = "âŒ å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•ï¼";
        sendStatus.style.color = "#ff4d4f";
      }
    } catch (err) {
      sendStatus.textContent = "âŒ ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥ï¼";
      sendStatus.style.color = "#ff4d4f";
    } finally {
      // æ¢å¤æŒ‰é’®çŠ¶æ€
      sendBtn.disabled = false;
      sendBtn.style.opacity = "1";
      sendBtn.textContent = "å‘é€æ¶ˆæ¯";
    }
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨Telegram Botå‰ç«¯ç›´è¿æ¶ˆæ¯æ¨¡å—ï¼ˆå…ç™»å½•ï¼‰ -->




<!-- GitHubåšå®¢ä¸“ç”¨ï¼šTelegram BotèŠå¤©æ¨¡å—ï¼ˆä¿®å¤ç‰ˆï¼‰ -->
<div style="width: 100%; max-width: 600px; margin: 20px auto; padding: 20px; border-radius: 8px; background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05); font-family: -apple-system, BlinkMacSystemFont, sans-serif;">
  <h3 style="margin: 0 0 15px; font-size: 17px; color: #333; display: flex; align-items: center; gap: 8px;">
    <span style="color: #0088cc;">ğŸ’¬</span> ä¸æˆ‘èŠå¤©ï¼ˆå…ç™»å½•ï¼‰
  </h3>

  <!-- èŠå¤©è®°å½•åŒº -->
  <div id="chatBox" style="height: 350px; border: 1px solid #eee; border-radius: 6px; padding: 12px; overflow-y: auto; background: #fafafa; margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px; scroll-behavior: smooth;"></div>

  <!-- è¾“å…¥åŒº -->
  <div style="display: flex; flex-direction: column; gap: 10px;">
    <input 
      type="text" 
      id="userName" 
      placeholder="ä½ çš„æ˜µç§°ï¼ˆå¯é€‰ï¼‰" 
      style="padding: 10px; border: 1px solid #eee; border-radius: 6px; font-size: 14px;"
    >
    <textarea 
      id="userMsg" 
      placeholder="è¾“å…¥æ¶ˆæ¯..." 
      style="padding: 10px; border: 1px solid #eee; border-radius: 6px; min-height: 80px; resize: none; font-size: 14px; font-family: inherit;"
    ></textarea>
    <button 
      id="sendBtn" 
      style="padding: 11px; border: none; border-radius: 6px; background: #0088cc; color: #fff; font-size: 14px; cursor: pointer; transition: background 0.2s;"
    >å‘é€æ¶ˆæ¯</button>
    <div id="tip" style="font-size: 12px; color: #666; text-align: center; margin-top: 5px;"></div>
  </div>
</div>

<script>
  // *************************
  // é…ç½®é¡¹ï¼ˆè¯·ç¡®è®¤è¿™2ä¸ªå€¼æ­£ç¡®ï¼ï¼‰
  // *************************
  const BOT_TOKEN = "8430958771:AAG4bkt9cR5_ZTXgeM3MeH7oSODpMjM6wJs"; // ä½ çš„Bot Tokenï¼ˆæ³¨æ„å¼€å¤´æ˜¯"bot"å—ï¼Ÿï¼‰
  const CHAT_ID = "6562518027"; // ä½ çš„Telegram IDï¼ˆçº¯æ•°å­—ï¼Œä¸æ˜¯ç”¨æˆ·åï¼‰

  // å›ºå®šé…ç½®ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰
  const REFRESH_INTERVAL = 60000; // ç¼©çŸ­åˆ·æ–°é—´éš”ä¸º1åˆ†é’Ÿï¼Œæ›´å¿«æ”¶åˆ°å›å¤
  const MAX_REFRESH_TIMES = 5;    // å¢åŠ åˆ·æ–°æ¬¡æ•°ï¼Œå‡å°‘æ¼æ¥å›å¤
  let replyTimer = null;          // åˆ·æ–°å®šæ—¶å™¨
  let refreshCount = 0;           // åˆ·æ–°æ¬¡æ•°è®¡æ•°
  let lastUpdateId = 0;           // ç”¨Update IDæ›¿ä»£Msg IDï¼Œé¿å…æ¼æ¶ˆæ¯ï¼ˆæ ¸å¿ƒä¿®å¤ï¼‰
  const chatBox = document.getElementById("chatBox");
  const tipElem = document.getElementById("tip");

  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
  document.addEventListener("DOMContentLoaded", () => {
    // åŠ è½½æ¬¢è¿æ¶ˆæ¯
    addMsgToChat("ç³»ç»Ÿ", "ä½ å¥½ï¼æ¶ˆæ¯ä¼šç›´æ¥å‘ç»™æˆ‘ï¼Œæˆ‘çœ‹åˆ°åä¼šå°½å¿«å›å¤ï½", true);
    // ç»‘å®šå‘é€äº‹ä»¶
    document.getElementById("sendBtn").addEventListener("click", sendUserMsg);
    // ç»‘å®šEnteré”®å‘é€ï¼ˆShift+Enteræ¢è¡Œï¼‰
    document.getElementById("userMsg").addEventListener("keydown", (e) => {
      if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        sendUserMsg();
      }
    });
    // åˆå§‹æ‹‰å–å†å²å›å¤ï¼ˆä¿®å¤ï¼šé¡µé¢æ‰“å¼€æ—¶å°±æŸ¥æœªè¯»æ¶ˆæ¯ï¼‰
    checkBotReply();
  });

  /**
   * 1. æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©æ¡†ï¼ˆä¼˜åŒ–æ ·å¼å’Œå…¼å®¹æ€§ï¼‰
   * @param {string} sender - å‘é€è€…åç§°
   * @param {string} content - æ¶ˆæ¯å†…å®¹
   * @param {boolean} isBot - æ˜¯å¦æ˜¯Bot/ç³»ç»Ÿæ¶ˆæ¯
   */
  function addMsgToChat(sender, content, isBot = false) {
    if (!chatBox) return;
    const msgDiv = document.createElement("div");
    // åŒºåˆ†æ¶ˆæ¯æ–¹å‘ï¼Œä¼˜åŒ–æ‰‹æœºç«¯æ˜¾ç¤º
    msgDiv.style.cssText = `
      max-width: 85%; 
      padding: 8px 12px; 
      border-radius: ${isBot ? "8px 8px 8px 2px" : "8px 8px 2px 8px"}; 
      font-size: 14px; 
      word-break: break-all; 
      align-self: ${isBot ? "flex-start" : "flex-end"};
      background: ${isBot ? "#e8f4f8" : "#0088cc"};
      color: ${isBot ? "#333" : "#fff"};
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    `;
    // è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œé¿å…HTMLæ³¨å…¥ï¼ˆä¿®å¤ï¼šé˜²æ­¢æ¶ˆæ¯å«<>å¯¼è‡´æ ·å¼é”™ä¹±ï¼‰
    const safeSender = sender.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    const safeContent = content.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    // æ·»åŠ æ—¶é—´æˆ³ï¼Œæ–¹ä¾¿è¿½æº¯
    const time = new Date().toLocaleTimeString("zh-CN", { hour: "2-digit", minute: "2-digit" });
    msgDiv.innerHTML = `
      <span style="font-weight: 500; margin-right: 5px;">${safeSender}</span>
      <span style="font-size: 12px; opacity: 0.7;">${time}</span>
      <div style="margin-top: 4px;">${safeContent}</div>
    `;
    chatBox.appendChild(msgDiv);
    // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨ï¼ˆä¿®å¤ï¼šç¡®ä¿æœ€æ–°æ¶ˆæ¯å¯è§ï¼‰
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  /**
   * 2. å‘é€ç”¨æˆ·æ¶ˆæ¯ï¼ˆæ ¸å¿ƒä¿®å¤ï¼šå®Œå–„é”™è¯¯åé¦ˆ+APIè°ƒç”¨æ ¼å¼ï¼‰
   */
  async function sendUserMsg() {
    const userNameInput = document.getElementById("userName");
    const userMsgInput = document.getElementById("userMsg");
    const sendBtn = document.getElementById("sendBtn");

    // 1. è¾“å…¥éªŒè¯
    const userName = userNameInput.value.trim() || "åŒ¿åè®¿å®¢";
    const userMsg = userMsgInput.value.trim();
    if (!userMsg) {
      showTip("âŒ æ¶ˆæ¯ä¸èƒ½ä¸ºç©ºå“¦ï½", "error");
      return;
    }

    // 2. é”å®šæŒ‰é’®ï¼Œé˜²æ­¢é‡å¤å‘é€
    sendBtn.disabled = true;
    sendBtn.textContent = "å‘é€ä¸­...";
    showTip("â³ æ­£åœ¨å‘é€æ¶ˆæ¯...", "info");

    try {
      // 3. è°ƒç”¨Telegram APIå‘é€æ¶ˆæ¯ï¼ˆä¿®å¤ï¼šAPIåœ°å€æ ¼å¼+å‚æ•°å®Œæ•´æ€§ï¼‰
      const apiUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
      const response = await fetch(apiUrl, {
        method: "POST",
        headers: { 
          "Content-Type": "application/json",
          "Accept": "application/json" // å¢åŠ Acceptå¤´ï¼Œæå‡å…¼å®¹æ€§
        },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: `ã€${userName}ã€‘(${new Date().toLocaleString()})ï¼š\n${userMsg}`,
          disable_web_page_preview: true,
          parse_mode: "HTML" // æ˜ç¡®è§£ææ¨¡å¼ï¼Œé¿å…æ¶ˆæ¯æ ¼å¼é”™ä¹±
        }),
        timeout: 15000 // å»¶é•¿è¶…æ—¶æ—¶é—´ï¼Œåº”å¯¹ç½‘ç»œæ³¢åŠ¨
      });

      // 4. å¤„ç†APIå“åº”
      const result = await response.json();
      if (result.ok) {
        // å‘é€æˆåŠŸï¼šæ·»åŠ åˆ°èŠå¤©æ¡†+æ¸…ç©ºè¾“å…¥
        addMsgToChat(userName, userMsg, false);
        userMsgInput.value = "";
        showTip("âœ… æ¶ˆæ¯å‘é€æˆåŠŸï¼æˆ‘ä¼šå°½å¿«å›å¤ï½", "success");
        // å¯åŠ¨å›å¤ç›‘å¬
        startReplyListening();
      } else {
        // æ˜ç¡®é”™è¯¯åŸå› ï¼ˆæ¯”å¦‚Tokené”™è¯¯ã€IDé”™è¯¯ï¼‰
        throw new Error(`APIé”™è¯¯ï¼š${result.description || "æœªçŸ¥é”™è¯¯"}`);
      }
    } catch (err) {
      // è¯¦ç»†é”™è¯¯æç¤ºï¼Œæ–¹ä¾¿ä½ æ’æŸ¥ï¼ˆä¿®å¤ï¼šä¹‹å‰åªæ˜¾ç¤ºâ€œå‘é€å¤±è´¥â€ï¼Œç°åœ¨ç»™å…·ä½“åŸå› ï¼‰
      let errorMsg = "å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š";
      if (err.message.includes("401")) errorMsg += "Bot Tokené”™è¯¯";
      else if (err.message.includes("400")) errorMsg += "Chat IDé”™è¯¯æˆ–Botæœªä¸ä½ å¯¹è¯è¿‡";
      else if (err.message.includes("timeout")) errorMsg += "ç½‘ç»œè¶…æ—¶ï¼Œè¯·é‡è¯•";
      else errorMsg += err.message;
      
      showTip(errorMsg, "error");
      console.error("å‘é€æ¶ˆæ¯é”™è¯¯ï¼š", err); // æ§åˆ¶å°æ‰“å°è¯¦ç»†é”™è¯¯ï¼Œä¾¿äºä½ è°ƒè¯•
    } finally {
      // æ¢å¤æŒ‰é’®çŠ¶æ€
      sendBtn.disabled = false;
      sendBtn.textContent = "å‘é€æ¶ˆæ¯";
    }
  }

  /**
   * 3. å¯åŠ¨å›å¤ç›‘å¬ï¼ˆä¿®å¤ï¼šç”¨getUpdatesæ­£ç¡®æ‹‰å–å›å¤ï¼Œé¿å…æ¼æ¶ˆæ¯ï¼‰
   */
  function startReplyListening() {
    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œé¿å…å¤šä¸ªåŒæ—¶è¿è¡Œ
    if (replyTimer) clearInterval(replyTimer);
    refreshCount = 0;

    // ç«‹å³æ‹‰å–ä¸€æ¬¡ï¼Œç„¶åå®šæ—¶æ‹‰å–
    checkBotReply();
    replyTimer = setInterval(() => {
      checkBotReply();
      refreshCount++;

      // è¾¾åˆ°æœ€å¤§æ¬¡æ•°ï¼Œåœæ­¢ç›‘å¬å¹¶æç¤º
      if (refreshCount >= MAX_REFRESH_TIMES) {
        clearInterval(replyTimer);
        addMsgToChat("ç³»ç»Ÿ", "å›å¤ç›‘å¬å·²åœæ­¢ï¼Œè‹¥æœªæ”¶åˆ°å›å¤å¯é‡æ–°å‘é€æ¶ˆæ¯ï½", true);
        showTip("â¹ï¸ å›å¤ç›‘å¬å·²åœæ­¢ï¼Œå¯é‡æ–°å‘æ¶ˆæ¯è§¦å‘", "info");
      }
    }, REFRESH_INTERVAL);
  }

  /**
   * 4. æ‹‰å–Botå›å¤ï¼ˆæ ¸å¿ƒä¿®å¤ï¼šç”¨Update IDåˆ†é¡µï¼Œç¡®ä¿åªæ‹‰å–æ–°æ¶ˆæ¯ï¼‰
   */
  async function checkBotReply() {
    try {
      // è°ƒç”¨getUpdatesï¼Œåªæ‹‰å–lastUpdateIdä¹‹åçš„æ–°æ¶ˆæ¯ï¼ˆé¿å…é‡å¤æ‹‰å–æ—§æ¶ˆæ¯ï¼‰
      const apiUrl = `https://api.telegram.org/bot${BOT_TOKEN}/getUpdates?offset=${lastUpdateId + 1}&timeout=3`;
      const response = await fetch(apiUrl, {
        method: "GET",
        timeout: 10000
      });

      const result = await response.json();
      if (result.ok && result.result.length > 0) {
        // éå†æ‰€æœ‰æ–°æ¶ˆæ¯ï¼Œç­›é€‰å‡ºBotå‘ç»™ä½ çš„å›å¤
        result.result.forEach(update => {
          // æ›´æ–°lastUpdateIdï¼Œä¸‹æ¬¡ä»è¿™é‡Œå¼€å§‹æ‹‰å–
          lastUpdateId = Math.max(lastUpdateId, update.update_id);

          // æ¡ä»¶ï¼šæ˜¯æ¶ˆæ¯ç±»å‹ + å‘é€è€…æ˜¯Bot + æ¥æ”¶è€…æ˜¯ä½ ï¼ˆé¿å…æ‹‰å–å…¶ä»–èŠå¤©æ¶ˆæ¯ï¼‰
          if (update.message && update.message.from.is_bot && update.message.chat.id.toString() === CHAT_ID.toString()) {
            const botReply = update.message.text || "ï¼ˆBotå‘é€äº†éæ–‡æœ¬æ¶ˆæ¯ï¼Œæš‚ä¸æ”¯æŒæ˜¾ç¤ºï¼‰";
            addMsgToChat("æˆ‘", botReply, true);
            showTip("âœ… æ”¶åˆ°å›å¤å•¦ï½", "success");

            // æ”¶åˆ°å›å¤åï¼Œåœæ­¢åç»­ç›‘å¬
            if (replyTimer) {
              clearInterval(replyTimer);
              replyTimer = null;
            }
          }
        });
      }
    } catch (err) {
      console.error("æ‹‰å–å›å¤é”™è¯¯ï¼š", err);
      // æ‹‰å–é”™è¯¯ä¸æç¤ºç”¨æˆ·ï¼Œé¿å…å¹²æ‰°
    }
  }

  /**
   * 5. æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼ˆä¼˜åŒ–ï¼šåŒºåˆ†æˆåŠŸ/é”™è¯¯/æ™®é€šæç¤ºï¼Œé¢œè‰²ä¸åŒï¼‰
   */
  function showTip(text, type = "info") {
    if (!tipElem) return;
    tipElem.textContent = text;
    // ä¸åŒç±»å‹æç¤ºç”¨ä¸åŒé¢œè‰²
    if (type === "error") tipElem.style.color = "#ff4d4f";
    else if (type === "success") tipElem.style.color = "#00b42a";
    else tipElem.style.color = "#666";
  }
</script>











<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨Facebookç›´æ’­åµŒå…¥æ¨¡å— -->
<div style="width: 100%; max-width: 1000px; margin: 25px auto; padding: 20px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- ç›´æ’­æ ‡é¢˜ä¸çŠ¶æ€åŒº -->
  <div style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
    <h3 style="margin: 0; font-size: 18px; color: #333; display: flex; align-items: center; gap: 8px;">
      <span style="color: #1877F2; font-size: 22px;">ğŸ“º</span>
      Facebook ç›´æ’­
    </h3>
    <!-- ç›´æ’­çŠ¶æ€æ ‡ç­¾ï¼ˆé»˜è®¤â€œåŠ è½½ä¸­â€ï¼Œå¯æ ¹æ®å®é™…çŠ¶æ€ä¿®æ”¹ï¼‰ -->
    <span id="fb-live-status" style="padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: 500; background: #f0f2f5; color: #65676b;">
      åŠ è½½ç›´æ’­çŠ¶æ€ä¸­...
    </span>
  </div>

  <!-- ç›´æ’­æ’­æ”¾å™¨å®¹å™¨ -->
  <div style="position: relative; width: 100%; border-radius: 8px; overflow: hidden; background: #000; margin-bottom: 15px;">
    <!-- Facebookç›´æ’­åµŒå…¥iframeï¼ˆæ ¸å¿ƒï¼‰ -->
    <iframe
      id="fb-live-player"
      src="" 
      width="100%" 
      height="500" 
      style="border: none; display: block;"
      allowfullscreen
      allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
      loading="lazy"
    ></iframe>

    <!-- åŠ è½½å¤±è´¥å¤‡ç”¨æç¤º -->
    <div id="fb-live-fallback" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: none; flex-direction: column; align-items: center; justify-content: center; color: #ffffff; text-align: center; padding: 20px;">
      <span style="font-size: 48px; margin-bottom: 15px;">âš ï¸</span>
      <h4 style="margin: 0 0 10px; font-size: 18px;">ç›´æ’­åŠ è½½å¤±è´¥</h4>
      <p style="margin: 0; font-size: 14px; max-width: 500px;">å¯èƒ½æ˜¯ç›´æ’­æœªå¼€å§‹ã€é“¾æ¥å¤±æ•ˆï¼Œæˆ–å½“å‰ç½‘ç»œæ— æ³•è®¿é—®Facebookï¼Œè¯·ç¨åé‡è¯•</p>
      <a id="fb-live-direct-link" href="" target="_blank" style="margin-top: 15px; padding: 8px 16px; background: #1877F2; color: #ffffff; border-radius: 4px; text-decoration: none; font-size: 14px;">
        å‰å¾€Facebookè§‚çœ‹
      </a>
    </div>
  </div>

  <!-- ç›´æ’­ä¿¡æ¯è¡¥å……åŒº -->
  <div style="padding: 15px; border-radius: 8px; background: #f0f2f5;">
    <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
      <div style="flex: 1; min-width: 250px;">
        <p style="margin: 0; font-size: 14px; color: #65676b;">
          ç›´æ’­æ¥æºï¼š<a id="fb-page-link" href="" target="_blank" style="color: #1877F2; text-decoration: none; font-weight: 500;"></a>
        </p>
      </div>
      <div style="font-size: 12px; color: #65676b;">
        æç¤ºï¼šè‹¥ç›´æ’­æ— å£°éŸ³ï¼Œå¯æ£€æŸ¥æµè§ˆå™¨éŸ³é‡è®¾ç½®ï¼›ç‚¹å‡»æ’­æ”¾å™¨å³ä¸‹è§’â€œå…¨å±â€å›¾æ ‡å¯åˆ‡æ¢å…¨å±æ¨¡å¼
      </div>
    </div>
  </div>
</div>

<script>
  // *************************
  // ä½ éœ€è¦ä¿®æ”¹çš„æ ¸å¿ƒé…ç½®ï¼ˆå¿…æ”¹ï¼‰
  // *************************
  const FB_LIVE_CONFIG = {
    // Facebookç›´æ’­çš„â€œè§†é¢‘IDâ€æˆ–â€œç›´æ’­é“¾æ¥â€ï¼ˆäºŒé€‰ä¸€å³å¯ï¼‰
    liveVideoId: "123456789012345", // ä»ç›´æ’­é“¾æ¥ä¸­æå–ï¼ˆå¦‚é“¾æ¥https://www.facebook.com/abc/videos/123456789012345/ä¸­çš„â€œ123456789012345â€ï¼‰
    livePageUrl: "https://www.facebook.com/YourFacebookPage", // ä½ çš„Facebookä¸»é¡µé“¾æ¥ï¼ˆç”¨äºè¡¥å……ä¿¡æ¯å’Œå¤‡ç”¨è·³è½¬ï¼‰
    autoPlay: false // æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼ˆtrue=è‡ªåŠ¨ï¼Œfalse=ç‚¹å‡»æ’­æ”¾ï¼Œå—æµè§ˆå™¨ç­–ç•¥é™åˆ¶ï¼‰
  };

  // DOMå…ƒç´ è·å–
  const livePlayer = document.getElementById("fb-live-player");
  const liveStatus = document.getElementById("fb-live-status");
  const liveFallback = document.getElementById("fb-live-fallback");
  const liveDirectLink = document.getElementById("fb-live-direct-link");
  const pageLink = document.getElementById("fb-page-link");

  // åˆå§‹åŒ–Facebookç›´æ’­åµŒå…¥
  function initFbLivePlayer() {
    // 1. æ‹¼æ¥Facebookç›´æ’­åµŒå…¥é“¾æ¥ï¼ˆå®˜æ–¹æ ‡å‡†æ ¼å¼ï¼‰
    const fbEmbedUrl = `https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fvideos%2F${FB_LIVE_CONFIG.liveVideoId}%2F&show_text=0&width=800&autoplay=${FB_LIVE_CONFIG.autoPlay ? 1 : 0}&mute=0&allow_fullscreen=1&loop=0&small_header=0&adapter_width=100%25&hide_cover=0&show_facepile=0`;
    
    // 2. è®¾ç½®æ’­æ”¾å™¨å’Œé“¾æ¥
    livePlayer.src = fbEmbedUrl;
    liveDirectLink.href = `https://www.facebook.com/videos/${FB_LIVE_CONFIG.liveVideoId}/`;
    pageLink.href = FB_LIVE_CONFIG.livePageUrl;
    pageLink.textContent = FB_LIVE_CONFIG.livePageUrl.replace("https://www.facebook.com/", "").replace("/", "");

    // 3. ç›‘å¬iframeåŠ è½½çŠ¶æ€ï¼ˆåˆ¤æ–­æ˜¯å¦åŠ è½½æˆåŠŸï¼‰
    livePlayer.onload = () => {
      liveStatus.textContent = "ç›´æ’­åŠ è½½å®Œæˆ";
      liveStatus.style.background = "#e8f4ea";
      liveStatus.style.color = "#1a7f40";
    };

    // 4. åŠ è½½è¶…æ—¶å¤„ç†ï¼ˆ10ç§’åä»æœªåŠ è½½åˆ™æ˜¾ç¤ºå¤‡ç”¨æç¤ºï¼‰
    setTimeout(() => {
      if (livePlayer.contentDocument.body.innerHTML.includes("error") || livePlayer.contentDocument.body.innerHTML.trim() === "") {
        livePlayer.style.display = "none";
        liveFallback.style.display = "flex";
        liveStatus.textContent = "ç›´æ’­åŠ è½½å¤±è´¥";
        liveStatus.style.background = "#ffebee";
        liveStatus.style.color = "#d32f2f";
      }
    }, 10000);
  }

  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
  window.addEventListener("DOMContentLoaded", initFbLivePlayer);
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨Facebookç›´æ’­åµŒå…¥æ¨¡å— -->


<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨Instagramç›´æ’­åµŒå…¥æ¨¡å— -->
<div style="width: 100%; max-width: 800px; margin: 25px auto; padding: 20px; border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.06); background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- å¤´éƒ¨æ ‡é¢˜ä¸çŠ¶æ€ -->
  <div style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
    <h3 style="margin: 0; font-size: 18px; color: #333; display: flex; align-items: center; gap: 8px;">
      <span style="color: #E4405F; font-size: 22px;">ğŸ“±</span>
      Instagram ç›´æ’­
    </h3>
    <span id="ig-live-status" style="padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: 500; background: #fafafa; color: #65676b;">
      æ£€æµ‹ç›´æ’­çŠ¶æ€ä¸­...
    </span>
  </div>

  <!-- ç›´æ’­æ ¸å¿ƒåŒºåŸŸï¼ˆä¸¤ç§æ¨¡å¼ï¼šç›´æ’­ä¸­æ˜¾ç¤ºæ’­æ”¾å™¨ï¼Œæœªç›´æ’­æ˜¾ç¤ºæç¤ºï¼‰ -->
  <div style="position: relative; width: 100%; border-radius: 8px; overflow: hidden; margin-bottom: 15px;">
    <!-- 1. ç›´æ’­æ’­æ”¾å™¨ï¼ˆç›´æ’­ä¸­æ˜¾ç¤ºï¼‰ -->
    <div id="ig-live-player-container" style="width: 100%; background: #000; display: none;">
      <!-- Instagramç›´æ’­åµŒå…¥iframeï¼ˆå®˜æ–¹å…¼å®¹æ ¼å¼ï¼‰ -->
      <iframe
        id="ig-live-player"
        src=""
        width="100%"
        height="450"
        style="border: none; display: block;"
        allowfullscreen
        allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"
        loading="lazy"
      ></iframe>
    </div>

    <!-- 2. éç›´æ’­çŠ¶æ€æç¤ºï¼ˆæœªå¼€æ’­/åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºï¼‰ -->
    <div id="ig-live-fallback" style="width: 100%; background: #fafafa; padding: 40px 20px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 1px solid #f0f0f0;">
      <span style="font-size: 48px; color: #E4405F; margin-bottom: 15px;">ğŸ“º</span>
      <h4 id="fallback-title" style="margin: 0 0 10px; font-size: 16px; color: #333;">ç›´æ’­æš‚æœªå¼€å§‹</h4>
      <p id="fallback-desc" style="margin: 0 0 20px; font-size: 14px; color: #65676b; max-width: 500px;">
        è¯·å…³æ³¨Instagramè´¦å·è·å–æœ€æ–°ç›´æ’­é€šçŸ¥ï¼Œå¼€æ’­åå°†è‡ªåŠ¨æ›´æ–°
      </p>
      <!-- å‰å¾€InstagramæŒ‰é’® -->
      <a id="ig-direct-link" href="" target="_blank" style="padding: 10px 20px; background: #E4405F; color: #ffffff; border-radius: 4px; text-decoration: none; font-size: 14px; transition: background 0.3s;">
        å‰å¾€Instagramä¸»é¡µ
      </a>
    </div>
  </div>

  <!-- ç›´æ’­è¡¥å……ä¿¡æ¯ -->
  <div style="padding: 15px; border-radius: 8px; background: #fafafa;">
    <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
      <div style="flex: 1; min-width: 250px;">
        <p style="margin: 0; font-size: 14px; color: #65676b;">
          ä¸»æ’­è´¦å·ï¼š<a id="ig-account-link" href="" target="_blank" style="color: #E4405F; text-decoration: none; font-weight: 500;"></a>
        </p>
      </div>
      <div style="font-size: 12px; color: #65676b;">
        æç¤ºï¼šInstagramç›´æ’­ä»…æ”¯æŒåœ¨å¼€æ’­æ—¶åŠ è½½ï¼Œæœªå¼€æ’­å°†æ˜¾ç¤ºè´¦å·è·³è½¬å…¥å£
      </div>
    </div>
  </div>
</div>

<script>
  // *************************
  // ä½ éœ€è¦ä¿®æ”¹çš„æ ¸å¿ƒé…ç½®ï¼ˆå¿…æ”¹ï¼‰
  // *************************
  const IG_LIVE_CONFIG = {
    username: "your_instagram_username", // ä½ çš„Instagramè´¦å·ç”¨æˆ·åï¼ˆå¦‚"taylor_graham"ï¼Œä¸å«@ï¼‰
    liveHighlightId: "17895693822000000", // å¯é€‰ï¼šç›´æ’­å›æ”¾/ç²¾å½©ç‰‡æ®µIDï¼ˆå¼€æ’­æ—¶å¯ç•™ç©ºï¼Œå›æ”¾æ—¶å¡«å†™ï¼‰
    autoPlay: false // æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼ˆtrue=è‡ªåŠ¨ï¼Œfalse=ç‚¹å‡»æ’­æ”¾ï¼Œå—æµè§ˆå™¨ç­–ç•¥é™åˆ¶ï¼‰
  };

  // DOMå…ƒç´ è·å–
  const livePlayerContainer = document.getElementById("ig-live-player-container");
  const livePlayer = document.getElementById("ig-live-player");
  const liveFallback = document.getElementById("ig-live-fallback");
  const liveStatus = document.getElementById("ig-live-status");
  const directLink = document.getElementById("ig-direct-link");
  const accountLink = document.getElementById("ig-account-link");
  const fallbackTitle = document.getElementById("fallback-title");
  const fallbackDesc = document.getElementById("fallback-desc");

  // åˆå§‹åŒ–Instagramç›´æ’­é“¾æ¥ä¸ä¿¡æ¯
  function initIgLive() {
    // 1. è®¾ç½®åŸºç¡€é“¾æ¥ï¼ˆè´¦å·ä¸»é¡µã€å¤‡ç”¨è·³è½¬ï¼‰
    const accountUrl = `https://www.instagram.com/${IG_LIVE_CONFIG.username}/`;
    directLink.href = accountUrl;
    accountLink.href = accountUrl;
    accountLink.textContent = `@${IG_LIVE_CONFIG.username}`;

    // 2. æ‹¼æ¥ç›´æ’­/å›æ”¾åµŒå…¥é“¾æ¥ï¼ˆInstagramå®˜æ–¹åµŒå…¥è§„åˆ™ï¼‰
    let embedUrl = "";
    if (IG_LIVE_CONFIG.liveHighlightId) {
      // å›æ”¾/ç²¾å½©ç‰‡æ®µæ¨¡å¼
      embedUrl = `https://www.instagram.com/p/${IG_LIVE_CONFIG.liveHighlightId}/embed/?autoplay=${IG_LIVE_CONFIG.autoPlay ? 1 : 0}&captioned=0`;
    } else {
      // å®æ—¶ç›´æ’­æ¨¡å¼ï¼ˆä¾èµ–è´¦å·å¼€æ’­çŠ¶æ€ï¼Œæœªå¼€æ’­åˆ™æ˜¾ç¤º fallbackï¼‰
      embedUrl = `https://www.instagram.com/${IG_LIVE_CONFIG.username}/live/embed/?autoplay=${IG_LIVE_CONFIG.autoPlay ? 1 : 0}`;
    }

    // 3. åŠ è½½æ’­æ”¾å™¨å¹¶æ£€æµ‹çŠ¶æ€
    livePlayer.src = embedUrl;
    checkLiveStatus(embedUrl);
  }

  // æ£€æµ‹ç›´æ’­çŠ¶æ€ï¼ˆåŠ è½½æˆåŠŸ/å¤±è´¥/æœªå¼€æ’­ï¼‰
  function checkLiveStatus(embedUrl) {
    // ç›‘å¬iframeåŠ è½½å®Œæˆ
    livePlayer.onload = () => {
      // æ£€æŸ¥æ’­æ”¾å™¨å†…å®¹æ˜¯å¦æœ‰æ•ˆï¼ˆç›´æ’­ä¸­ä¼šæœ‰æ’­æ”¾æ§ä»¶ï¼Œæœªå¼€æ’­åˆ™æ˜¾ç¤º"æœªæ‰¾åˆ°"æç¤ºï¼‰
      setTimeout(() => {
        try {
          const playerContent = livePlayer.contentDocument.body.innerText;
          if (playerContent.includes("Live") || playerContent.includes("ç›´æ’­") || !playerContent.includes("not found")) {
            // ç›´æ’­ä¸­/å›æ”¾å¯ç”¨ï¼šæ˜¾ç¤ºæ’­æ”¾å™¨ï¼Œéšè— fallback
            livePlayerContainer.style.display = "block";
            liveFallback.style.display = "none";
            liveStatus.textContent = IG_LIVE_CONFIG.liveHighlightId ? "ç›´æ’­å›æ”¾åŠ è½½å®Œæˆ" : "æ­£åœ¨ç›´æ’­ä¸­";
            liveStatus.style.background = "#e8f4ea";
            liveStatus.style.color = "#1a7f40";
          } else {
            // æœªå¼€æ’­/é“¾æ¥æ— æ•ˆï¼šæ˜¾ç¤º fallback
            handleFallback("ç›´æ’­æš‚æœªå¼€å§‹", "ä¸»æ’­å½“å‰æœªå¼€å¯ç›´æ’­ï¼Œç‚¹å‡»æŒ‰é’®å‰å¾€Instagramå…³æ³¨æœ€æ–°åŠ¨æ€");
          }
        } catch (err) {
          // è·¨åŸŸè®¿é—®é™åˆ¶ï¼šç›´æ¥æ˜¾ç¤º fallbackï¼ˆInstagram éƒ¨åˆ†åµŒå…¥å†…å®¹æœ‰è·¨åŸŸä¿æŠ¤ï¼‰
          handleFallback("ç›´æ’­çŠ¶æ€æ— æ³•æ£€æµ‹", "å»ºè®®å‰å¾€Instagramè´¦å·æŸ¥çœ‹æ˜¯å¦æ­£åœ¨ç›´æ’­");
        }
      }, 2000);
    };

    // åŠ è½½è¶…æ—¶å¤„ç†ï¼ˆ10ç§’æœªåŠ è½½æˆåŠŸåˆ™æ˜¾ç¤º fallbackï¼‰
    setTimeout(() => {
      if (!livePlayerContainer.style.display) {
        handleFallback("ç›´æ’­åŠ è½½è¶…æ—¶", "ç½‘ç»œè¾ƒæ…¢æˆ–ç›´æ’­æœªå¼€æ’­ï¼Œå¯å‰å¾€Instagramç›´æ¥æŸ¥çœ‹");
      }
    }, 10000);
  }

  // å¤„ç†éç›´æ’­çŠ¶æ€ï¼ˆç»Ÿä¸€æ›´æ–°æç¤ºæ–‡æ¡ˆå’ŒçŠ¶æ€ï¼‰
  function handleFallback(title, desc) {
    fallbackTitle.textContent = title;
    fallbackDesc.textContent = desc;
    liveStatus.textContent = title;
    liveStatus.style.background = "#ffebee";
    liveStatus.style.color = "#d32f2f";
  }

  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
  window.addEventListener("DOMContentLoaded", initIgLive);
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨Instagramç›´æ’­åµŒå…¥æ¨¡å— -->






<!-- å¤®è§†ç›´æ’­å¢™æ¨¡å— - å¯ç›´æ¥ç²˜è´´åˆ°GitHubåšå®¢ -->
<div style="max-width: 1200px; margin: 2rem auto; padding: 0 1rem; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <!-- æ¨¡å—æ ‡é¢˜ -->
  <h2 style="text-align: center; color: #333; margin-bottom: 1.5rem; font-size: 1.8rem;">å¤®è§†é«˜æ¸…ç›´æ’­å¢™</h2>

  <!-- ç›´æ’­ç½‘æ ¼å®¹å™¨ -->
  <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.2rem; align-items: start;">
    <!-- 1. CCTV-1 ç»¼åˆ -->
    <div style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden; transition: box-shadow 0.3s ease;">
      <div style="background: #0056b3; color: #fff; padding: 0.8rem 1rem; font-size: 1.1rem; font-weight: 500;">CCTV-1 ç»¼åˆ</div>
      <!-- è§†é¢‘æ’­æ”¾åŒº -->
      <div style="position: relative; padding-top: 56.25%; background: #000;">
        <video controls autoplay muted style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" preload="metadata">
          <source src="http://ottrrs.hl.chinamobile.com/PLTV/88888888/224/3221225603/index.m3u8" type="application/x-mpegURL">
          ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ–°æµè§ˆå™¨
        </video>
      </div>
      <!-- èŠ‚ç›®ä¿¡æ¯ -->
      <div style="padding: 0.8rem 1rem; border-top: 1px solid #f0f0f0;">
        <p style="margin: 0; font-size: 0.9rem; color: #666;">
          <span style="color: #0056b3; font-weight: 500;">å½“å‰èŠ‚ç›®ï¼š</span>
          <a href="https://www.tvmao.com/program/CCTV-CCTV1.html" target="_blank" style="color: #0066cc; text-decoration: none; margin-left: 0.3rem;">æŸ¥çœ‹å®Œæ•´èŠ‚ç›®è¡¨</a>
        </p>
      </div>
    </div>

    <!-- 2. CCTV-3 ç»¼è‰º -->
    <div style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden; transition: box-shadow 0.3s ease;">
      <div style="background: #c21f3a; color: #fff; padding: 0.8rem 1rem; font-size: 1.1rem; font-weight: 500;">CCTV-3 ç»¼è‰º</div>
      <div style="position: relative; padding-top: 56.25%; background: #000;">
        <video controls autoplay muted style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" preload="metadata">
          <source src="http://ottrrs.hl.chinamobile.com/PLTV/88888888/224/3221226328/index.m3u8" type="application/x-mpegURL">
          ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ–°æµè§ˆå™¨
        </video>
      </div>
      <div style="padding: 0.8rem 1rem; border-top: 1px solid #f0f0f0;">
        <p style="margin: 0; font-size: 0.9rem; color: #666;">
          <span style="color: #c21f3a; font-weight: 500;">å½“å‰èŠ‚ç›®ï¼š</span>
          <a href="https://www.tvmao.com/program/CCTV-CCTV3.html" target="_blank" style="color: #0066cc; text-decoration: none; margin-left: 0.3rem;">æŸ¥çœ‹å®Œæ•´èŠ‚ç›®è¡¨</a>
        </p>
      </div>
    </div>

    <!-- 3. CCTV-6 ç”µå½± -->
    <div style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden; transition: box-shadow 0.3s ease;">
      <div style="background: #ff9900; color: #fff; padding: 0.8rem 1rem; font-size: 1.1rem; font-weight: 500;">CCTV-6 ç”µå½±</div>
      <div style="position: relative; padding-top: 56.25%; background: #000;">
        <video controls autoplay muted style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" preload="metadata">
          <source src="http://ottrrs.hl.chinamobile.com/PLTV/88888888/224/3221226010/index.m3u8" type="application/x-mpegURL">
          ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ–°æµè§ˆå™¨
        </video>
      </div>
      <div style="padding: 0.8rem 1rem; border-top: 1px solid #f0f0f0;">
        <p style="margin: 0; font-size: 0.9rem; color: #666;">
          <span style="color: #ff9900; font-weight: 500;">å½“å‰èŠ‚ç›®ï¼š</span>
          <a href="https://www.tvmao.com/program/CCTV-CCTV6.html" target="_blank" style="color: #0066cc; text-decoration: none; margin-left: 0.3rem;">æŸ¥çœ‹å®Œæ•´èŠ‚ç›®è¡¨</a>
        </p>
      </div>
    </div>

    <!-- 4. CCTV-8 ç”µè§†å‰§ -->
    <div style="background: #009944; color: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden; transition: box-shadow 0.3s ease;">
      <div style="padding: 0.8rem 1rem; font-size: 1.1rem; font-weight: 500;">CCTV-8 ç”µè§†å‰§</div>
      <div style="position: relative; padding-top: 56.25%; background: #000;">
        <video controls autoplay muted style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" preload="metadata">
          <source src="http://ottrrs.hl.chinamobile.com/PLTV/88888888/224/3221226382/index.m3u8" type="application/x-mpegURL">
          ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ–°æµè§ˆå™¨
        </video>
      </div>
      <div style="padding: 0.8rem 1rem; border-top: 1px solid #f0f0f0; background: #fff;">
        <p style="margin: 0; font-size: 0.9rem; color: #666;">
          <span style="color: #009944; font-weight: 500;">å½“å‰èŠ‚ç›®ï¼š</span>
          <a href="https://www.tvmao.com/program/CCTV-CCTV8.html" target="_blank" style="color: #0066cc; text-decoration: none; margin-left: 0.3rem;">æŸ¥çœ‹å®Œæ•´èŠ‚ç›®è¡¨</a>
        </p>
      </div>
    </div>

    <!-- 5. CCTV-13 æ–°é—» -->
    <div style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden; transition: box-shadow 0.3s ease;">
      <div style="background: #dd0000; color: #fff; padding: 0.8rem 1rem; font-size: 1.1rem; font-weight: 500;">CCTV-13 æ–°é—»</div>
      <div style="position: relative; padding-top: 56.25%; background: #000;">
        <video controls autoplay muted style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" preload="metadata">
          <source src="http://ottrrs.hl.chinamobile.com/PLTV/88888888/224/3221226414/index.m3u8" type="application/x-mpegURL">
          ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ–°æµè§ˆå™¨
        </video>
      </div>
      <div style="padding: 0.8rem 1rem; border-top: 1px solid #f0f0f0;">
        <p style="margin: 0; font-size: 0.9rem; color: #666;">
          <span style="color: #dd0000; font-weight: 500;">å½“å‰èŠ‚ç›®ï¼š</span>
          <a href="https://www.tvmao.com/program/CCTV-CCTV13.html" target="_blank" style="color: #0066cc; text-decoration: none; margin-left: 0.3rem;">æŸ¥çœ‹å®Œæ•´èŠ‚ç›®è¡¨</a>
        </p>
      </div>
    </div>
  </div>

  <!-- æ¨¡å—è¯´æ˜ -->
  <p style="text-align: center; color: #888; font-size: 0.85rem; margin-top: 1.5rem;">
    æç¤ºï¼šè‹¥ç›´æ’­åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•ï¼›èŠ‚ç›®è¡¨é“¾æ¥è·³è½¬è‡³ç”µè§†çŒ«å®˜ç½‘ï¼Œå®æ—¶æ›´æ–°èŠ‚ç›®ä¿¡æ¯
  </p>
</div>




<!-- æ¨¡å—å¼€å¤´ï¼šGitHubåšå®¢ä¸“ç”¨è™ç‰™ç›´æ’­æ’­æ”¾å™¨ -->
<div style="width: 100%; max-width: 1000px; margin: 25px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 12px rgba(0,0,0,0.05); background: #ffffff;">
  <!-- è™ç‰™ç›´æ’­é…ç½®åŒºï¼ˆç›´æ¥ä¿®æ”¹ä¸‹æ–¹ID/é“¾æ¥å³å¯ï¼‰ -->
  <script>
    // ğŸ‘‡ æ ¸å¿ƒé…ç½®ï¼šå¡«å†™è™ç‰™ç›´æ’­é—´IDæˆ–å®Œæ•´é“¾æ¥ï¼ˆäºŒé€‰ä¸€ï¼ŒIDä¼˜å…ˆï¼‰
    const huyaLiveConfig = {
      liveRoomId: "11342412", // è™ç‰™ç›´æ’­é—´æ•°å­—IDï¼ˆç¤ºä¾‹ï¼š660000ï¼Œå¯ä»ç›´æ’­é—´URLè·å–ï¼‰
      liveRoomUrl: "" // è™ç‰™ç›´æ’­é—´å®Œæ•´é“¾æ¥ï¼ˆç¤ºä¾‹ï¼šhttps://www.huya.com/660000ï¼Œè‹¥å¡«äº†IDåˆ™æ­¤å‚æ•°æ— æ•ˆï¼‰
    };

    // è‡ªåŠ¨ç”Ÿæˆæœ‰æ•ˆç›´æ’­é“¾æ¥
    function getValidHuyaUrl() {
      if (huyaLiveConfig.liveRoomId) {
        return `https://www.huya.com/${huyaLiveConfig.liveRoomId}`;
      }
      return huyaLiveConfig.liveRoomUrl || "https://www.huya.com/";
    }
  </script>

  <!-- åŠ è½½çŠ¶æ€æç¤º -->
  <div id="huyaLoading" style="text-align: center; padding: 30px; background: #fafafa; color: #666; font-size: 15px;">
    æ­£åœ¨åŠ è½½è™ç‰™ç›´æ’­...
  </div>

  <!-- ç›´æ’­æ’­æ”¾å™¨ä¸»ä½“ -->
  <iframe
    id="huyaLivePlayer"
    src=""
    width="100%"
    height="600"
    frameborder="0"
    scrolling="no"
    allowfullscreen="true"
    style="display: none; border: none;"
    title="è™ç‰™ç›´æ’­é—´æ’­æ”¾"
  ></iframe>
</div>

<script>
  // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ’­æ”¾å™¨
  document.addEventListener("DOMContentLoaded", function() {
    const liveUrl = getValidHuyaUrl();
    const player = document.getElementById("huyaLivePlayer");
    const loadingTip = document.getElementById("huyaLoading");

    // æ ¡éªŒé…ç½®æœ‰æ•ˆæ€§
    if (!liveUrl.includes("huya.com")) {
      loadingTip.textContent = "é…ç½®é”™è¯¯ï¼šè¯·å¡«å†™æœ‰æ•ˆçš„è™ç‰™ç›´æ’­é—´IDæˆ–é“¾æ¥ï¼";
      loadingTip.style.color = "#ff4d4f";
      return;
    }

    // åŠ è½½ç›´æ’­ç”»é¢
    player.src = liveUrl;

    // ç›‘å¬æ’­æ”¾å™¨åŠ è½½çŠ¶æ€
    player.onload = function() {
      player.style.display = "block";
      loadingTip.style.display = "none";
    };

    // åŠ è½½è¶…æ—¶å¤„ç†ï¼ˆé˜²æ­¢ä¸€ç›´æ˜¾ç¤ºåŠ è½½ä¸­ï¼‰
    setTimeout(() => {
      if (player.style.display === "none") {
        loadingTip.textContent = "ç›´æ’­åŠ è½½è¶…æ—¶ï¼Œå¯èƒ½æ˜¯ç›´æ’­é—´æœªå¼€æ’­æˆ–ç½‘ç»œé—®é¢˜";
        loadingTip.style.color = "#ff7a45";
      }
    }, 10000);
  });
</script>
<!-- æ¨¡å—ç»“å°¾ï¼šGitHubåšå®¢ä¸“ç”¨è™ç‰™ç›´æ’­æ’­æ”¾å™¨ -->




	
<!-- æ–‡ç« å†…å®¹ -->
<article>
<h2>YouTubeç›´æ’­</h2>
<p>å‡¤å‡°å«è§†å®æ—¶æ–°é—»ç›´æ’­</p>
<div class="video-container">
  <div id="live-player">åŠ è½½ä¸­...</div>
</div>
</article>

<article>
<h2>ç›´æ’­é¢‘é“</h2>
<!-- ç›´æ’­é¢‘é“å®¹å™¨ -->
<div id="live-channel-feed" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;"></div>
</article>

<article>
<h2>éŸ³ä¹åˆ†äº«1</h2>
<p>ä¸€äººä¸€é¦–ç»å…¸æ›²âœŒï¸Ë¶â•¹ê‡´â•¹Ë¶âœŒï¸ </p>
<div class="video-container">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/WbW00ghKFt0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
</article>

<article>
<h2>æ‚ å“‰åšæ–‡</h2>
<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œæ¬¢è¿å¤§å®¶æ¥åˆ°æˆ‘çš„åšå®¢ï¼æˆ‘ä¼šåˆ†äº«ç”Ÿæ´»ã€æŠ€æœ¯ã€æ—…è¡Œå’Œå„ç§æœ‰è¶£çš„å†…å®¹ã€‚</p>
<!-- æ¨ªå‘å±•ç¤ºä¸¤å¼ å›¾ç‰‡ -->
<div class="gallery">
  <img src="https://raw.githubusercontent.com/fuchenyouzai/youzai/main/t2.jpg" alt="å›¾ç‰‡1">
  <img src="https://raw.githubusercontent.com/fuchenyouzai/youzai/main/t4.jpg" alt="å›¾ç‰‡2">
</div>
</article>

<article>
  <h2>æ—…è¡Œè§é—»</h2>
  <p>ç…§ç‰‡å’Œè§†é¢‘åˆ†äº«</p>
  <div class="article-video">
    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="é»„çŸ³å…¬å›­çŸ­è§†é¢‘" allowfullscreen></iframe>
  </div>
</article>

<article>
  <h2>éŸ³ä¹åˆ†äº«2</h2>
  <p>è¿™æ˜¯æˆ‘æœ€è¿‘å‘ç° çš„ä¸€é¦–éŸ³ä¹ï¼Œå¤§å®¶å¯ä»¥è¯•å¬ã€‚</p>
  <audio controls preload="auto" controlsList="nodownload">
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
  </audio>
</article>

<article>
<h2>æ‚ å“‰ç›¸å†Œ</h2>
<div class="gallery">
<img src="https://raw.githubusercontent.com/fuchenyouzai/youzai/main/t2.jpg" alt="å›¾ç‰‡1">
<img src="https://raw.githubusercontent.com/fuchenyouzai/youzai/main/t4.jpg" alt="å›¾ç‰‡3">
</div>
</article>

<article>
<h2>æ‚ å“‰YouTube</h2>
<a href="https://www.youtube.com/@æ‹‚å°˜æ‚ å“‰" target="_blank" class="telegram-btn">è®¿é—® YouTube</a>
<div id="youtube-feed" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:15px; margin-top:10px;"></div>
</article>

<article>
<h2>æ‚ å“‰ç•™è¨€æ¿1ï¼ˆGitalkï¼‰</h2>
<div id="gitalk-container"></div>
<a href="https://github.com/fuchenyouzai/youzai/issues" target="_blank" class="admin-btn" style="margin-top:10px;">æŸ¥çœ‹ GitHub åå°è¯„è®º</a>
</article>

<article>
<h2>æ‚ å“‰ç•™è¨€æ¿2ï¼ˆDisqus ä¸­æ–‡ï¼‰</h2>
<div id="disqus_thread"></div>
<script>
(function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://youzaibolg.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
</article>

</main>

<footer>
&copy; 2026 æ‚ å“‰çš„åšå®¢
</footer>
<!-- å®‰è£…æŒ‰é’® -->
<div id="install-btn">
  å®‰è£…æ‚ å“‰åšå®¢åˆ°è®¾å¤‡
</div>

<!-- å³ä¸‹è§’æŒ‰é’® -->
<button id="sound-toggle-btn">ğŸ”Š æ‰“å¼€å£°éŸ³</button>
<button id="mode-toggle-btn">ğŸŒ™ å¤œæ™šæ¨¡å¼</button>

<!-- æ–°å¢ï¼šå·¦ä¸‹è§’å…¨å±€å£°éŸ³æ§åˆ¶æŒ‰é’®ï¼ˆå«éŸ³é‡æ»‘å—ï¼‰ -->
<div id="global-sound-control" style="position: fixed; bottom: 20px; left: 20px; z-index: 1000; display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.5); padding: 8px 12px; border-radius: 8px;">
  <!-- å…¨å±€å£°éŸ³å¼€å…³æŒ‰é’® -->
  <button id="global-sound-btn" style="padding: 8px 12px; border: none; border-radius: 6px; background-color: #4CAF50; color: white; font-weight: bold; cursor: pointer; transition: background 0.3s;">ğŸ”Š å…¨å±€æœ‰å£°</button>
  <!-- å…¨å±€éŸ³é‡æ»‘å— -->
  <div style="display: flex; align-items: center; gap: 5px;">
    <span style="color: white; font-size: 14px;">éŸ³é‡</span>
    <input type="range" id="global-volume-slider" min="0" max="100" value="100" style="width: 100px; accent-color: #4CAF50; cursor: pointer;">
  </div>
</div>

<!-- åŸæœ‰ï¼šå³ä¾§éŸ³é‡æ»‘å—åŒºåŸŸ -->
<div style="position: fixed; bottom: 100px; right: 20px; z-index: 1000; display: flex; align-items: center;">
  <span style="color: white; margin-right: 10px; background-color: rgba(0, 0, 0, 0.5); padding: 3px 6px; border-radius: 4px;">éŸ³é‡</span>
  <input type="range" id="volume-slider" min="0" max="100" value="100" style="width: 100px;">
</div>

<!-- å¤–éƒ¨èµ„æºå¼•å…¥ï¼ˆä¿ç•™åŸç»“æ„ï¼‰ -->
<!-- Gitalk -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<!-- YouTube IFrame API -->
<script src="https://www.youtube.com/iframe_api"></script>
<script>
// ç›´æ’­é¢‘é“æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªç›´æ’­çš„ ID å’Œæ ‡é¢˜
const liveChannels = [
  {id: "fN9uYWCjQaw", title: "å‡¤å‡°å«è§†ç›´æ’­"},
  {id: "ZB9QSD_SWmM", title: "ç§‘æŠ€æ–°é—»ç›´æ’­"},
  {id: "WbW00ghKFt0", title: "å¨±ä¹ç›´æ’­"}
];

// è·å–ç›´æ’­é¢‘é“å±•ç¤ºå®¹å™¨
const liveChannelFeed = document.getElementById("live-channel-feed");

// åŠ¨æ€ç”Ÿæˆæ¯ä¸ªé¢‘é“çš„ç›´æ’­æ’­æ”¾å™¨
liveChannels.forEach(channel => {
  const channelWrapper = document.createElement("div");
  channelWrapper.style.display = "flex";
  channelWrapper.style.flexDirection = "column";
  channelWrapper.style.gap = "5px";

  // åˆ›å»º iframe å®¹å™¨
  const iframeWrapper = document.createElement("div");
  iframeWrapper.style.position = "relative";
  iframeWrapper.style.width = "100%";
  iframeWrapper.style.height = 0;
  iframeWrapper.style.overflow = "hidden";
  iframeWrapper.style.borderRadius = "5px";
  iframeWrapper.style.paddingBottom = "56.25%"; // 16:9æ¯”ä¾‹
  
  // æ–°å¢ï¼šä¸ºiframeæ·»åŠ enablejsapi=1ï¼Œæ”¯æŒYouTube APIæ§åˆ¶
  iframeWrapper.innerHTML = `<iframe src="https://www.youtube.com/embed/${channel.id}?enablejsapi=1" 
                              style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;"
                              title="${channel.title}" 
                              allowfullscreen
                              id="live-iframe-${channel.id}"></iframe>`;

  // åˆ›å»ºé¢‘é“ä¿¡æ¯
  const channelInfo = document.createElement("div");
  channelInfo.style.display = "flex";
  channelInfo.style.flexDirection = "column";
  channelInfo.style.alignItems = "center";
  channelInfo.style.gap = "5px";

  const titleElement = document.createElement("p");
  titleElement.textContent = channel.title;
  titleElement.style.textAlign = "center";
  titleElement.style.margin = "0";
  titleElement.style.fontWeight = "bold";
  titleElement.style.fontSize = "14px";

  channelInfo.appendChild(titleElement);

  // å°†ç”Ÿæˆçš„ iframe å’Œé¢‘é“ä¿¡æ¯åŠ å…¥é¡µé¢
  channelWrapper.appendChild(iframeWrapper);
  channelWrapper.appendChild(channelInfo);
  liveChannelFeed.appendChild(channelWrapper);

  // æ–°å¢ï¼šç›‘å¬iframeåŠ è½½ï¼Œè·å–æ’­æ”¾å™¨å®ä¾‹å¹¶åŠ å…¥å…¨å±€æ§åˆ¶
  const iframe = document.getElementById(`live-iframe-${channel.id}`);
  iframe.onload = () => {
    setTimeout(() => {
      const player = new YT.Player(`live-iframe-${channel.id}`, {
        events: {
          'onReady': (event) => {
            // åˆå§‹åŒ–å…¨å±€æ’­æ”¾å™¨æ•°ç»„ï¼ˆè‹¥æœªå­˜åœ¨ï¼‰
            if (!window.globalYoutubePlayers) window.globalYoutubePlayers = [];
            // å°†æ’­æ”¾å™¨å®ä¾‹åŠ å…¥å…¨å±€åˆ—è¡¨
            if (!window.globalYoutubePlayers.includes(event.target)) {
              window.globalYoutubePlayers.push(event.target);
            }
            // åŒæ­¥åˆå§‹çŠ¶æ€ï¼ˆé™éŸ³+éŸ³é‡ï¼‰
            event.target.mute();
            const globalSlider = document.getElementById('global-volume-slider');
            if (globalSlider) event.target.setVolume(globalSlider.value);
          }
        }
      });
    }, 500);
  };
});
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // æ–°å¢ï¼š1. æ”¶é›†æ‰€æœ‰ç”»å»Šå›¾ç‰‡ & åˆå§‹åŒ–å½“å‰ç´¢å¼•
  const galleryImages = Array.from(document.querySelectorAll('.gallery img'));
  let currentImageIndex = 0;

  // æ–°å¢ï¼š2. å›¾ç‰‡åˆ‡æ¢æ ¸å¿ƒå‡½æ•°ï¼ˆæ›´æ–°æ”¾å¤§å±‚å›¾ç‰‡ï¼‰
  function updateOverlayImage(index) {
    const overlayImg = document.querySelector('.image-overlay img');
    if (overlayImg && galleryImages[index]) {
      overlayImg.src = galleryImages[index].src;
      overlayImg.alt = galleryImages[index].alt || `å›¾ç‰‡${index + 1}`;
    }
    currentImageIndex = index; // æ›´æ–°å½“å‰ç´¢å¼•
  }

  // æ–°å¢ï¼š3. ä¸Šä¸€å¼ /ä¸‹ä¸€å¼ åˆ‡æ¢å‡½æ•°ï¼ˆæ”¯æŒå¾ªç¯ï¼‰
  function showPrevImage() {
    let newIndex = currentImageIndex - 1;
    newIndex = newIndex < 0 ? galleryImages.length - 1 : newIndex; // å¾ªç¯åˆ°æœ€åä¸€å¼ 
    updateOverlayImage(newIndex);
  }
  function showNextImage() {
    let newIndex = currentImageIndex + 1;
    newIndex = newIndex >= galleryImages.length ? 0 : newIndex; // å¾ªç¯åˆ°ç¬¬ä¸€å¼ 
    updateOverlayImage(newIndex);
  }

  // åŸæœ‰ï¼šå…¨å±€å£°éŸ³æ§åˆ¶åˆå§‹åŒ–ï¼ˆä¿ç•™ï¼‰
  window.globalAudioElements = Array.from(document.querySelectorAll('audio'));
  window.isGlobalSoundOn = false;
  const globalSoundBtn = document.getElementById('global-sound-btn');
  const globalVolumeSlider = document.getElementById('global-volume-slider');

  window.globalAudioElements.forEach(audio => {
    audio.muted = !window.isGlobalSoundOn;
    audio.volume = globalVolumeSlider.value / 100;
  });

  // åŸæœ‰ï¼šGitalk åˆå§‹åŒ–ï¼ˆä¿ç•™ï¼‰
  const gitalk = new Gitalk({
    clientID: 'Ov23lijfU0G3M7jiMFAW',
    clientSecret: '47120dd1810d3a2a9aa0033211f5ee73ef29baa3',
    repo: 'youzai',
    owner: 'fuchenyouzai',
    admin: ['fuchenyouzai'],
    id: location.pathname,
    distractionFreeMode: false,
    language: 'zh-CN'
  });
  gitalk.render('gitalk-container');
  
  // åŸæœ‰ï¼šéŸ³é‡æ»‘å—åŒæ­¥é€»è¾‘ï¼ˆä¿ç•™ï¼‰
  const volumeSlider = document.getElementById('volume-slider');
  volumeSlider.addEventListener('input', (event) => {
    const volume = event.target.value;
    if (window.livePlayer) window.livePlayer.setVolume(volume);
    if (globalVolumeSlider) globalVolumeSlider.value = volume;
    if (window.syncGlobalVolume) window.syncGlobalVolume(volume);
  });

  // é‡å†™ï¼š4. å›¾ç‰‡ç‚¹å‡»æ”¾å¤§é€»è¾‘ï¼ˆæ›¿æ¢åŸé€»è¾‘ï¼Œæ”¯æŒæ»‘åŠ¨+æŒ‰é’®ï¼‰
  galleryImages.forEach((img, index) => {
    img.addEventListener('click', () => {
      currentImageIndex = index; // è®°å½•å½“å‰ç‚¹å‡»å›¾ç‰‡ç´¢å¼•

      // åˆ›å»ºæ”¾å¤§å±‚å®¹å™¨ï¼ˆå¸¦ç±»åæ–¹ä¾¿æ ·å¼æ§åˆ¶ï¼‰
      const overlay = document.createElement('div');
      overlay.className = 'image-overlay';
      overlay.style.position = 'fixed';
      overlay.style.top = 0;
      overlay.style.left = 0;
      overlay.style.width = '100%';
      overlay.style.height = '100%';
      overlay.style.background = 'rgba(0,0,0,0.9)';
      overlay.style.display = 'flex';
      overlay.style.flexDirection = 'column';
      overlay.style.justifyContent = 'center';
      overlay.style.alignItems = 'center';
      overlay.style.cursor = 'default';
      overlay.style.zIndex = '9999';
      overlay.style.padding = '20px';
      overlay.style.boxSizing = 'border-box';

      // æ–°å¢ï¼šä¸Šä¸€å¼ æŒ‰é’®
      const prevBtn = document.createElement('button');
      prevBtn.textContent = 'â† ä¸Šä¸€å¼ ';
      prevBtn.style.position = 'absolute';
      prevBtn.style.left = '20px';
      prevBtn.style.padding = '10px 15px';
      prevBtn.style.backgroundColor = 'rgba(255,255,255,0.2)';
      prevBtn.style.color = 'white';
      prevBtn.style.border = 'none';
      prevBtn.style.borderRadius = '5px';
      prevBtn.style.fontSize = '16px';
      prevBtn.style.cursor = 'pointer';
      prevBtn.style.zIndex = '10';
      prevBtn.style.transition = 'background 0.3s';
      prevBtn.addEventListener('mouseover', () => prevBtn.style.backgroundColor = 'rgba(255,255,255,0.4)');
      prevBtn.addEventListener('click', (e) => {
        e.stopPropagation(); // é˜»æ­¢å…³é—­æ”¾å¤§å±‚
        showPrevImage();
      });

      // æ–°å¢ï¼šä¸‹ä¸€å¼ æŒ‰é’®
      const nextBtn = document.createElement('button');
      nextBtn.textContent = 'ä¸‹ä¸€å¼  â†’';
      nextBtn.style.position = 'absolute';
      nextBtn.style.right = '20px';
      nextBtn.style.padding = '10px 15px';
      nextBtn.style.backgroundColor = 'rgba(255,255,255,0.2)';
      nextBtn.style.color = 'white';
      nextBtn.style.border = 'none';
      nextBtn.style.borderRadius = '5px';
      nextBtn.style.fontSize = '16px';
      nextBtn.style.cursor = 'pointer';
      nextBtn.style.zIndex = '10';
      nextBtn.style.transition = 'background 0.3s';
      nextBtn.addEventListener('mouseover', () => nextBtn.style.backgroundColor = 'rgba(255,255,255,0.4)');
      nextBtn.addEventListener('click', (e) => {
        e.stopPropagation(); // é˜»æ­¢å…³é—­æ”¾å¤§å±‚
        showNextImage();
      });
      // æ–°å¢ï¼šå…³é—­æŒ‰é’®
      const closeBtn = document.createElement('button');
      closeBtn.textContent = 'Ã— å…³é—­';
      closeBtn.style.position = 'absolute';
      closeBtn.style.top = '20px';
      closeBtn.style.padding = '8px 12px';
      closeBtn.style.backgroundColor = 'rgba(255,0,0,0.6)';
      closeBtn.style.color = 'white';
      closeBtn.style.border = 'none';
      closeBtn.style.borderRadius = '5px';
      closeBtn.style.fontSize = '16px';
      closeBtn.style.cursor = 'pointer';
      closeBtn.style.zIndex = '10';
      closeBtn.style.transition = 'background 0.3s';
      closeBtn.addEventListener('mouseover', () => closeBtn.style.backgroundColor = 'rgba(255,0,0,0.8)');
      closeBtn.addEventListener('click', () => {
        document.body.removeChild(overlay);
        document.removeEventListener('keydown', handleKeyDown); // ç§»é™¤é”®ç›˜ç›‘å¬
      });

      // æ”¾å¤§å›¾ç‰‡å…ƒç´ 
      const overlayImg = document.createElement('img');
      overlayImg.src = img.src;
      overlayImg.alt = img.alt || `å›¾ç‰‡${index + 1}`;
      overlayImg.style.maxWidth = '90%';
      overlayImg.style.maxHeight = '80%';
      overlayImg.style.borderRadius = '5px';
      overlayImg.style.objectFit = 'contain'; // ä¿è¯å›¾ç‰‡ä¸æ‹‰ä¼¸

      // ç»„è£…æ”¾å¤§å±‚
      overlay.appendChild(prevBtn);
      overlay.appendChild(nextBtn);
      overlay.appendChild(closeBtn);
      overlay.appendChild(overlayImg);

      // ç‚¹å‡»ç©ºç™½å¤„å…³é—­
      overlay.addEventListener('click', () => {
        document.body.removeChild(overlay);
        document.removeEventListener('keydown', handleKeyDown);
      });

      // æ–°å¢ï¼šç§»åŠ¨ç«¯è§¦æ‘¸æ»‘åŠ¨æ”¯æŒ
      let startX = 0;
      overlay.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX; // è®°å½•è§¦æ‘¸èµ·å§‹ä½ç½®
      });
      overlay.addEventListener('touchend', (e) => {
        if (!e.changedTouches[0]) return;
        const endX = e.changedTouches[0].clientX;
        const diffX = endX - startX; // è®¡ç®—æ»‘åŠ¨è·ç¦»
        if (diffX > 50) showPrevImage(); // å³æ»‘â†’ä¸Šä¸€å¼ 
        if (diffX < -50) showNextImage(); // å·¦æ»‘â†’ä¸‹ä¸€å¼ 
      });

      // æ–°å¢ï¼šPCç«¯é”®ç›˜æ–¹å‘é”®æ§åˆ¶
      function handleKeyDown(e) {
        if (e.key === 'ArrowLeft') showPrevImage(); // å·¦ç®­å¤´â†’ä¸Šä¸€å¼ 
        if (e.key === 'ArrowRight') showNextImage(); // å³ç®­å¤´â†’ä¸‹ä¸€å¼ 
        if (e.key === 'Escape') { // ESCé”®â†’å…³é—­
          document.body.removeChild(overlay);
          document.removeEventListener('keydown', handleKeyDown);
        }
      }
      document.addEventListener('keydown', handleKeyDown);

      // åŠ å…¥é¡µé¢
      document.body.appendChild(overlay);
    });
  });

  // åŸæœ‰ï¼šYouTubeè§†é¢‘å¢™é€»è¾‘ï¼ˆä¿ç•™ï¼Œæ— ä¿®æ”¹ï¼‰
  const videos = [
    {id: "ZB9QSD_SWmM", type: "shorts", title: "æœ€æ–° Shorts è§†é¢‘"},
    {id: "ZB9QSD_SWmM", type: "shorts", title: "ç¤ºä¾‹è§†é¢‘ 1"},
    {id: "ZB9QSD_SWmM", type: "shorts", title: "ç¤ºä¾‹è§†é¢‘ 2"},
    {id: "ZB9QSD_SWmM", type: "video", title: "ç¤ºä¾‹è§†é¢‘ 2"},
    {id: "ZB9QSD_SWmM", type: "video", title: "ç¤ºä¾‹è§†é¢‘ 2"},
    {id: "ZB9QSD_SWmM", type: "video", title: "ç¤ºä¾‹è§†é¢‘ 2"}
  ];
  const feedContainer = document.getElementById("youtube-feed");
  if (feedContainer) {
    videos.forEach((v, index) => {
      const wrapper = document.createElement("div");
      wrapper.style.display = "flex";
      wrapper.style.flexDirection = "column";
      wrapper.style.gap = "5px";

      const iframeWrapper = document.createElement("div");
      iframeWrapper.style.position = "relative";
      iframeWrapper.style.width = "100%";
      iframeWrapper.style.height = 0;
      iframeWrapper.style.overflow = "hidden";
      iframeWrapper.style.borderRadius = "5px";
      iframeWrapper.style.paddingBottom = v.type === "shorts" ? "177.78%" : "56.25%";
      const iframeId = `video-iframe-${index}`;
      iframeWrapper.innerHTML = `<iframe src="https://www.youtube.com/embed/${v.id}?enablejsapi=1" 
              style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;"
              title="${v.title}" 
              allowfullscreen
              id="${iframeId}"></iframe>`;

      const infoDiv = document.createElement("div");
      infoDiv.style.display = "flex";
      infoDiv.style.flexDirection = "column";
      infoDiv.style.alignItems = "center";
      infoDiv.style.gap = "5px";

      const titleEl = document.createElement("p");
      titleEl.textContent = v.title;
      titleEl.style.textAlign = "center";
      titleEl.style.margin = "0";
      titleEl.style.fontWeight = "bold";
      titleEl.style.fontSize = "14px";

      const btn = document.createElement("a");
      btn.href = `https://www.youtube.com/watch?v=${v.id}`;
      btn.target = "_blank";
      btn.textContent = "åœ¨ YouTube ä¸Šè§‚çœ‹";
      btn.style.display = "inline-block";
      btn.style.padding = "5px 10px";
      btn.style.backgroundColor = "#ff0000";
      btn.style.color = "#fff";
      btn.style.borderRadius = "4px";
      btn.style.fontSize = "12px";
      btn.style.textDecoration = "none";

      infoDiv.appendChild(titleEl);
      infoDiv.appendChild(btn);
      wrapper.appendChild(iframeWrapper);
      wrapper.appendChild(infoDiv);
      feedContainer.appendChild(wrapper);

      const videoIframe = document.getElementById(iframeId);
      videoIframe.onload = () => {
        setTimeout(() => {
          const player = new YT.Player(iframeId, {
            events: {
              'onReady': (event) => {
                if (!window.globalYoutubePlayers) window.globalYoutubePlayers = [];
                if (!window.globalYoutubePlayers.includes(event.target)) {
                  window.globalYoutubePlayers.push(event.target);
                }
                event.target.mute();
                if (globalVolumeSlider) event.target.setVolume(globalVolumeSlider.value);
              }
            }
          });
        }, 500);
      };
    });
  }
  // åŸæœ‰ï¼šPWA Service Worker æ³¨å†Œï¼ˆä¿ç•™ï¼‰
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
      .then(registration => console.log('Service Worker æ³¨å†ŒæˆåŠŸ:', registration.scope))
      .catch(err => console.log('Service Worker æ³¨å†Œå¤±è´¥:', err));
  }

  // åŸæœ‰ï¼šå…¨å±€éŸ³é‡åŒæ­¥å‡½æ•°ï¼ˆä¿ç•™ï¼‰
  window.syncGlobalVolume = function(volume) {
    if (window.globalAudioElements) {
      window.globalAudioElements.forEach(audio => {
        if (audio) audio.volume = volume / 100;
      });
    }
    if (window.globalYoutubePlayers) {
      window.globalYoutubePlayers.forEach(player => {
        if (player && typeof player.setVolume === 'function') {
          player.setVolume(volume);
        }
      });
    }
    if (window.livePlayer) {
      window.livePlayer.setVolume(volume);
    }
  };

  // åŸæœ‰ï¼šå…¨å±€å£°éŸ³å¼€å…³å‡½æ•°ï¼ˆä¿ç•™ï¼‰
  window.toggleGlobalSound = function() {
    window.isGlobalSoundOn = !window.isGlobalSoundOn;
    if (globalSoundBtn) {
      globalSoundBtn.textContent = window.isGlobalSoundOn ? 'ğŸ”‡ å…¨å±€é™éŸ³' : 'ğŸ”Š å…¨å±€æœ‰å£°';
    }
    if (window.globalAudioElements) {
      window.globalAudioElements.forEach(audio => {
        if (audio) audio.muted = !window.isGlobalSoundOn;
      });
    }
    if (window.globalYoutubePlayers) {
      window.globalYoutubePlayers.forEach(player => {
        if (player && typeof player.mute === 'function' && typeof player.unMute === 'function') {
          window.isGlobalSoundOn ? player.unMute() : player.mute();
        }
      });
    }
    if (window.livePlayer) {
      window.isGlobalSoundOn ? window.livePlayer.unMute() : window.livePlayer.mute();
    }
    const originalSoundBtn = document.getElementById('sound-toggle-btn');
    if (originalSoundBtn) {
      const originalIsOn = originalSoundBtn.textContent.includes('å…³é—­');
      if (originalIsOn !== window.isGlobalSoundOn) {
        originalSoundBtn.click();
      }
    }
  };

  // åŸæœ‰ï¼šPWAå®‰è£…æŒ‰é’®é€»è¾‘ï¼ˆä¿ç•™ï¼‰
  const installBtn = document.getElementById('install-btn');
  let deferredPrompt;
  const isEdge = /Edg/i.test(navigator.userAgent);
  const isChrome = /Chrome/i.test(navigator.userAgent) && !isEdge;

  if (isChrome) {
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
    });
  }

  installBtn.addEventListener('click', async () => {
    if (isChrome) {
      if (!deferredPrompt) { alert("PWA å®‰è£…æ¡ä»¶æœªæ»¡è¶³ï¼Œæˆ–å·²å®‰è£…"); return; }
      deferredPrompt.prompt();
      await deferredPrompt.userChoice;
      deferredPrompt = null;
    } else if (isEdge) {
      alert("è¯·é€šè¿‡æµè§ˆå™¨èœå•é€‰æ‹©â€œç‚¹æ·»åŠ åˆ°æ‰‹æœºæˆ–ç‚¹å®‰è£…æˆ–ç‚¹åˆ›å»ºå¿«æ·æ–¹å¼â€æ¥å®‰è£…åˆ°æ‰‹æœºæˆ–ç”µè„‘æˆ–å¹³æ¿ä¸­ä½¿ç”¨ã€‚");
    } else {
      alert("å½“å‰æµè§ˆå™¨ä¸æ”¯æŒè‡ªåŠ¨å®‰è£…ï¼Œè¯·ä½¿ç”¨ Chrome æˆ– Edge æµè§ˆå™¨ã€‚");
    }
  });

  // åŸæœ‰ï¼šç»‘å®šå…¨å±€æ§åˆ¶æŒ‰é’®äº‹ä»¶ï¼ˆä¿ç•™ï¼‰
  if (globalSoundBtn) {
    globalSoundBtn.addEventListener('click', window.toggleGlobalSound);
  }
  if (globalVolumeSlider) {
    globalVolumeSlider.addEventListener('input', (e) => {
      const volume = e.target.value;
      window.syncGlobalVolume(volume);
    });
  }

}); // DOMContentLoaded ç»“æŸ
</script>
<script>
// åŸæœ‰ï¼šYouTube Player API åˆå§‹åŒ–ç›¸å…³å˜é‡ï¼ˆæ–°å¢å…¨å±€æŒ‚è½½ï¼‰
window.livePlayer;
window.soundOn = false;

// åŸæœ‰ï¼šonYouTubeIframeAPIReadyå‡½æ•°ï¼ˆæ–°å¢ä¸»æ’­æ”¾å™¨åŠ å…¥å…¨å±€æ§åˆ¶ï¼‰
function onYouTubeIframeAPIReady() {
  const latestLiveID = 'fN9uYWCjQaw';
  window.livePlayer = new YT.Player('live-player', {
    videoId: latestLiveID,
    playerVars: { autoplay: 1, mute: 1, controls: 1, modestbranding: 1 },
    events: { 
      'onReady': (event) => { 
        event.target.mute(); 
        // æ–°å¢ï¼šå°†ä¸»ç›´æ’­æ’­æ”¾å™¨åŠ å…¥å…¨å±€åˆ—è¡¨
        if (!window.globalYoutubePlayers) window.globalYoutubePlayers = [];
        if (!window.globalYoutubePlayers.includes(event.target)) {
          window.globalYoutubePlayers.push(event.target);
        }
        // åŒæ­¥å…¨å±€éŸ³é‡
        const globalSlider = document.getElementById('global-volume-slider');
        if (globalSlider) event.target.setVolume(globalSlider.value);
      } 
    }
  });
}

// åŸæœ‰ï¼šå³ä¸‹è§’å£°éŸ³å¼€å…³æŒ‰é’®ï¼ˆä¿ç•™åŸé€»è¾‘ï¼Œä¸å…¨å±€æ§åˆ¶è”åŠ¨ï¼‰
const soundBtn = document.getElementById('sound-toggle-btn');
soundBtn.addEventListener('click', () => {
  if (!window.livePlayer) return;
  window.soundOn = !window.soundOn;
  // æ›´æ–°åŸæœ‰æŒ‰é’®æ–‡å­—
  soundBtn.textContent = window.soundOn ? 'ğŸ”‡ å…³é—­å£°éŸ³' : 'ğŸ”Š æ‰“å¼€å£°éŸ³';
  // åŒæ­¥ä¸»ç›´æ’­æ’­æ”¾å™¨
  window.soundOn ? window.livePlayer.unMute() : window.livePlayer.mute();
  // åŒæ­¥å…¨å±€çŠ¶æ€ä¸å…¶ä»–éŸ³é¢‘/è§†é¢‘
  if (window.isGlobalSoundOn !== window.soundOn) {
    window.isGlobalSoundOn = window.soundOn;
    const globalSoundBtn = document.getElementById('global-sound-btn');
    if (globalSoundBtn) {
      globalSoundBtn.textContent = window.soundOn ? 'ğŸ”‡ å…¨å±€é™éŸ³' : 'ğŸ”Š å…¨å±€æœ‰å£°';
    }
    // åŒæ­¥åŸç”ŸéŸ³é¢‘ä¸å…¶ä»–YouTubeæ’­æ”¾å™¨
    if (window.globalAudioElements) {
      window.globalAudioElements.forEach(audio => {
        if (audio) audio.muted = !window.soundOn;
      });
    }
    if (window.globalYoutubePlayers) {
      window.globalYoutubePlayers.forEach(player => {
        if (player !== window.livePlayer && player && typeof player.mute === 'function' && typeof player.unMute === 'function') {
          window.soundOn ? player.unMute() : player.mute();
        }
      });
    }
  }
});

// åŸæœ‰ï¼šç™½å¤©/å¤œæ™šæ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼ˆä¿ç•™åŸé€»è¾‘ï¼Œæ— ä¿®æ”¹ï¼‰
const modeBtn = document.getElementById('mode-toggle-btn');
const currentMode = localStorage.getItem('theme') || 'light'; // é»˜è®¤ä½¿ç”¨ 'light' æ¨¡å¼
if (currentMode === 'dark') {
  document.body.classList.add('dark-mode');
  modeBtn.textContent = "â˜€ï¸ ç™½å¤©æ¨¡å¼";
} else {
  document.body.classList.remove('dark-mode');
  modeBtn.textContent = "ğŸŒ™ å¤œæ™šæ¨¡å¼";
}

modeBtn.addEventListener('click', () => {
  document.body.classList.toggle('dark-mode');
  if (document.body.classList.contains('dark-mode')) {
    modeBtn.textContent = "â˜€ï¸ ç™½å¤©æ¨¡å¼";
    localStorage.setItem('theme', 'dark'); // ä¿å­˜å¤œé—´æ¨¡å¼
  } else {
    modeBtn.textContent = "ğŸŒ™ å¤œæ™šæ¨¡å¼";
    localStorage.setItem('theme', 'light'); // ä¿å­˜ç™½å¤©æ¨¡å¼
  }
});
</script>
</body>
</html>
